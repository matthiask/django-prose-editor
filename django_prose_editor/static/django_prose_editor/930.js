export const __webpack_ids__=["930"];export const __webpack_modules__={"./node_modules/@tiptap/core/dist/dist-GJ4HMHO4.js":function(t,e,n){n.r(e),n.d(e,{applyDevTools:()=>o$,removeDevTools:()=>o_});var r,i,o,s,l,a=n("./node_modules/@tiptap/core/dist/chunk-G3PMV62Z.js"),c=(0,a.Ee)({"../../node_modules/.pnpm/html@1.0.0/node_modules/html/lib/html.js"(t,e){"use strict";e.exports={prettyPrint:function(t,e){var n,r,i,o,s,l;for(r=(e=e||{}).indent_size||4,i=e.indent_char||" ",s=e.brace_style||"collapse",o=0==e.max_char?1/0:e.max_char||70,l=e.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],(n=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r	 ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(t,e){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1}},this.get_content=function(){for(var t="",e=[],n=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return e.length?e.join(""):["","TK_EOF"];if(t=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(t,this.Utils.whitespace)){e.length&&(n=!0),this.line_char_count--;continue}if(n){if(this.line_char_count>=this.max_char){e.push("\n");for(var r=0;r<this.indent_level;r++)e.push(this.indent_string);this.line_char_count=0}else e.push(" "),this.line_char_count++;n=!1}e.push(t)}return e.length?e.join(""):""},this.get_contents_to=function(t){if(this.pos==this.input.length)return["","TK_EOF"];var e="",n=RegExp("</"+t+"\\s*>","igm");n.lastIndex=this.pos;var r=n.exec(this.input),i=r?r.index:this.input.length;return this.pos<i&&(e=this.input.substring(this.pos,i),this.pos=i),e},this.record_tag=function(t){this.tags[t+"count"]?this.tags[t+"count"]++:this.tags[t+"count"]=1,this.tags[t+this.tags[t+"count"]]=this.indent_level,this.tags[t+this.tags[t+"count"]+"parent"]=this.tags.parent,this.tags.parent=t+this.tags[t+"count"]},this.retrieve_tag=function(t){if(this.tags[t+"count"]){for(var e=this.tags.parent;e&&t+this.tags[t+"count"]!==e;)e=this.tags[e+"parent"];e&&(this.indent_level=this.tags[t+this.tags[t+"count"]],this.tags.parent=this.tags[e+"parent"]),delete this.tags[t+this.tags[t+"count"]+"parent"],delete this.tags[t+this.tags[t+"count"]],1==this.tags[t+"count"]?delete this.tags[t+"count"]:this.tags[t+"count"]--}},this.get_tag=function(){var t,e,n,r="",i=[],o=!1;do{if(this.pos>=this.input.length)return i.length?i.join(""):["","TK_EOF"];if(r=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(r,this.Utils.whitespace)){o=!0,this.line_char_count--;continue}"'"!==r&&'"'!==r||i[1]&&"!"===i[1]||(r+=this.get_unformatted(r),o=!0),"="===r&&(o=!1),i.length&&"="!==i[i.length-1]&&">"!==r&&o&&(this.line_char_count>=this.max_char?(this.print_newline(!1,i),this.line_char_count=0):(i.push(" "),this.line_char_count++),o=!1),"<"===r&&(e=this.pos-1),i.push(r)}while(">"!==r);var s=i.join("");t=-1!=s.indexOf(" ")?s.indexOf(" "):s.indexOf(">");var a=s.substring(1,t).toLowerCase();if("/"===s.charAt(s.length-2)||this.Utils.in_array(a,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===a)this.record_tag(a),this.tag_type="SCRIPT";else if("style"===a)this.record_tag(a),this.tag_type="STYLE";else if(this.Utils.in_array(a,l)){var c=this.get_unformatted("</"+a+">",s);i.push(c),e>0&&this.Utils.in_array(this.input.charAt(e-1),this.Utils.whitespace)&&i.splice(0,0,this.input.charAt(e-1)),n=this.pos-1,this.Utils.in_array(this.input.charAt(n+1),this.Utils.whitespace)&&i.push(this.input.charAt(n+1)),this.tag_type="SINGLE"}else if("!"===a.charAt(0))if(-1!=a.indexOf("[if")){if(-1!=s.indexOf("!IE")){var c=this.get_unformatted("--\x3e",s);i.push(c)}this.tag_type="START"}else if(-1!=a.indexOf("[endif"))this.tag_type="END",this.unindent();else if(-1!=a.indexOf("[cdata[")){var c=this.get_unformatted("]]>",s);i.push(c),this.tag_type="SINGLE"}else{var c=this.get_unformatted("--\x3e",s);i.push(c),this.tag_type="SINGLE"}else"/"===a.charAt(0)?(this.retrieve_tag(a.substring(1)),this.tag_type="END"):(this.record_tag(a),this.tag_type="START"),this.Utils.in_array(a,this.Utils.extra_liners)&&this.print_newline(!0,this.output);return i.join("")},this.get_unformatted=function(t,e){if(e&&-1!=e.toLowerCase().indexOf(t))return"";var n="",r="",i=!0;do{if(this.pos>=this.input.length)break;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!i){this.line_char_count--;continue}if("\n"===n||"\r"===n){r+="\n",this.line_char_count=0;continue}}r+=n,this.line_char_count++,i=!0}while(-1==r.toLowerCase().indexOf(t));return r},this.get_token=function(){var t;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var e=this.last_token.substr(7);return"string"!=typeof(t=this.get_contents_to(e))?t:[t,"TK_"+e]}return"CONTENT"===this.current_mode?"string"!=typeof(t=this.get_content())?t:[t,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(t=this.get_tag())?t:[t,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(t){return(t=this.indent_level+t||0)<1?"":Array(t+1).join(this.indent_string)},this.printer=function(t,e,n,r,i){this.input=t||"",this.output=[],this.indent_character=e,this.indent_string="",this.indent_size=n,this.brace_style=i,this.indent_level=0,this.max_char=r,this.line_char_count=0;for(var o=0;o<this.indent_size;o++)this.indent_string+=this.indent_character;this.print_newline=function(t,e){if(this.line_char_count=0,e&&e.length){if(!t)for(;this.Utils.in_array(e[e.length-1],this.Utils.whitespace);)e.pop();e.push("\n");for(var n=0;n<this.indent_level;n++)e.push(this.indent_string)}},this.print_token=function(t){this.output.push(t)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}).printer(t,i,r,o,s);;){var a=n.get_token();if(n.token_text=a[0],n.token_type=a[1],"TK_EOF"===n.token_type)break;switch(n.token_type){case"TK_TAG_START":n.print_newline(!1,n.output),n.print_token(n.token_text),n.indent(),n.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===n.last_token&&""===n.last_text){var c=n.token_text.match(/\w+/)[0],u=n.output[n.output.length-1].match(/<\s*(\w+)/);(null===u||u[1]!==c)&&n.print_newline(!0,n.output)}n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var f=n.token_text.match(/^\s*<([a-z]+)/i);f&&n.Utils.in_array(f[1],l)||n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_CONTENT":""!==n.token_text&&n.print_token(n.token_text),n.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==n.token_text){n.output.push("\n");var h=n.token_text;if("TK_SCRIPT"==n.token_type)var d="function"==typeof js_beautify&&js_beautify;else if("TK_STYLE"==n.token_type)var d="function"==typeof css_beautify&&css_beautify;if("keep"==e.indent_scripts)var p=0;else if("separate"==e.indent_scripts)var p=-n.indent_level;else var p=1;var g=n.get_full_indent(p);if(d)h=d(h.replace(/^\s*/,g),e);else{var v=h.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(n.indent_string).length-1,m=n.get_full_indent(p-v);h=h.replace(/^\s*/,g).replace(/\r\n|\r|\n/g,"\n"+m).replace(/\s*$/,"")}h&&(n.print_token(h),n.print_newline(!0,n.output))}n.current_mode="TAG"}n.last_token=n.token_type,n.last_text=n.token_text}return n.output.join("")}}}}),u=class t{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(t,e,n,r=0,i){for(let o=0,s=0;s<e;o++){let l=this.content[o],a=s+l.nodeSize;if(a>t&&!1!==n(l,r+s,i||null,o)&&l.content.size){let i=s+1;l.nodesBetween(Math.max(0,t-i),Math.min(l.content.size,e-i),n,r+i)}s=a}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let i="",o=!0;return this.nodesBetween(t,e,(s,l)=>{let a=s.isText?s.text.slice(Math.max(t,l)-l,e-l):s.isLeaf?r?"function"==typeof r?r(s):r:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&a||s.isTextblock)&&n&&(o?o=!1:i+=n),i+=a},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new t(i,this.size+e.size)}cut(e,n=this.size){if(0==e&&n==this.size)return this;let r=[],i=0;if(n>e)for(let t=0,o=0;o<n;t++){let s=this.content[t],l=o+s.nodeSize;l>e&&((o<e||l>n)&&(s=s.isText?s.cut(Math.max(0,e-o),Math.min(s.text.length,n-o)):s.cut(Math.max(0,e-o-1),Math.min(s.content.size,n-o-1))),r.push(s),i+=s.nodeSize),o=l}return new t(r,i)}cutByIndex(e,n){return e==n?t.empty:0==e&&n==this.content.length?this:new t(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new t(i,o)}addToStart(e){return new t([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new t(this.content.concat(e),this.size+e.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return function t(e,n,r){for(let i=0;;i++){if(i==e.childCount||i==n.childCount)return e.childCount==n.childCount?null:r;let o=e.child(i),s=n.child(i);if(o==s){r+=o.nodeSize;continue}if(!o.sameMarkup(s))return r;if(o.isText&&o.text!=s.text){for(let t=0;o.text[t]==s.text[t];t++)r++;return r}if(o.content.size||s.content.size){let e=t(o.content,s.content,r+1);if(null!=e)return e}r+=o.nodeSize}}(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return function t(e,n,r,i){for(let o=e.childCount,s=n.childCount;;){if(0==o||0==s)return o==s?null:{a:r,b:i};let l=e.child(--o),a=n.child(--s),c=l.nodeSize;if(l==a){r-=c,i-=c;continue}if(!l.sameMarkup(a))return{a:r,b:i};if(l.isText&&l.text!=a.text){let t=0,e=Math.min(l.text.length,a.text.length);for(;t<e&&l.text[l.text.length-t-1]==a.text[a.text.length-t-1];)t++,r--,i--;return{a:r,b:i}}if(l.content.size||a.content.size){let e=t(l.content,a.content,r-1,i-1);if(e)return e}r-=c,i-=c}}(this,t,e,n)}findIndex(t,e=-1){if(0==t)return h(0,t);if(t==this.size)return h(this.content.length,t);if(t>this.size||t<0)throw RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=r+this.child(n).nodeSize;if(i>=t){if(i==t||e>0)return h(n+1,i);return h(n,r)}r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(e,n){if(!n)return t.empty;if(!Array.isArray(n))throw RangeError("Invalid input for Fragment.fromJSON");return new t(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return t.empty;let n,r=0;for(let t=0;t<e.length;t++){let i=e[t];r+=i.nodeSize,t&&i.isText&&e[t-1].sameMarkup(i)?(n||(n=e.slice(0,t)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new t(n||e,r)}static from(e){if(!e)return t.empty;if(e instanceof t)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new t([e],e.nodeSize);throw RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};u.empty=new u([],0);var f={index:0,offset:0};function h(t,e){return f.index=t,f.offset=e,f}function d(t,e){if(t===e)return!0;if(!(t&&"object"==typeof t)||!(e&&"object"==typeof e))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!d(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!d(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}var p=class t{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,n=!1;for(let r=0;r<t.length;r++){let i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&d(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw RangeError("Invalid input for Mark.fromJSON");let n=t.marks[e.type];if(!n)throw RangeError(`There is no mark type ${e.type} in this schema`);let r=n.create(e.attrs);return n.checkAttrs(r.attrs),r}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return t.none;if(e instanceof t)return[e];let n=e.slice();return n.sort((t,e)=>t.type.rank-e.type.rank),n}};p.none=[];var g=class extends Error{},v=class t{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=function t(e,n,r,i){let{index:o,offset:s}=e.findIndex(n),l=e.maybeChild(o);if(s==n||l.isText)return i&&!i.canReplace(o,o,r)?null:e.cut(0,n).append(r).append(e.cut(n));let a=t(l.content,n-s-1,r);return a&&e.replaceChild(o,l.copy(a))}(this.content,e+this.openStart,n);return r&&new t(r,this.openStart,this.openEnd)}removeBetween(e,n){return new t(function t(e,n,r){let{index:i,offset:o}=e.findIndex(n),s=e.maybeChild(i),{index:l,offset:a}=e.findIndex(r);if(o==n||s.isText){if(a!=r&&!e.child(l).isText)throw RangeError("Removing non-flat range");return e.cut(0,n).append(e.cut(r))}if(i!=l)throw RangeError("Removing non-flat range");return e.replaceChild(i,s.copy(t(s.content,n-o-1,r-o-1)))}(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(e,n){if(!n)return t.empty;let r=n.openStart||0,i=n.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw RangeError("Invalid input for Slice.fromJSON");return new t(u.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let t=e.firstChild;t&&!t.isLeaf&&(n||!t.type.spec.isolating);t=t.firstChild)r++;for(let t=e.lastChild;t&&!t.isLeaf&&(n||!t.type.spec.isolating);t=t.lastChild)i++;return new t(e,r,i)}};function m(t,e){if(!e.type.compatibleContent(t.type))throw new g("Cannot join "+e.type.name+" onto "+t.type.name)}function y(t,e,n){let r=t.node(n);return m(r,e.node(n)),r}function x(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function b(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(x(t.nodeAfter,r),o++));for(let t=o;t<s;t++)x(i.child(t),r);e&&e.depth==n&&e.textOffset&&x(e.nodeBefore,r)}function w(t,e){return t.type.checkContent(e),t.copy(e)}function $(t,e,n){let r=[];return b(null,t,n,r),t.depth>n&&x(w(y(t,e,n+1),$(t,e,n+1)),r),b(e,null,n,r),new u(r)}v.empty=new v(u.empty,0,0);var _=class t{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1;for(let e=0;e<t;e++)r+=n.child(e).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return p.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let t=n;n=r,r=t}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new S(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let t=e;;){let{index:e,offset:n}=t.content.findIndex(o),s=o-n;if(r.push(t,e,i+n),!s||(t=t.child(e)).isText)break;o=s-1,i+=n+1}return new t(n,r,o)}static resolveCached(e,n){let r=C.get(e);if(r)for(let t=0;t<r.elts.length;t++){let e=r.elts[t];if(e.pos==n)return e}else C.set(e,r=new k);let i=r.elts[r.i]=t.resolve(e,n);return r.i=(r.i+1)%j,i}},k=class{constructor(){this.elts=[],this.i=0}},j=12,C=new WeakMap,S=class{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},E=Object.create(null);(class t{constructor(t,e,n,r=p.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||u.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&d(this.attrs,e||t.defaultAttrs||E)&&p.sameSet(this.marks,n||p.none)}copy(e=null){return e==this.content?this:new t(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new t(this.type,this.attrs,this.content,e)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return v.empty;let r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),s=r.start(o);return new v(r.node(o).content.cut(r.pos-s,i.pos-s),r.depth-o,i.depth-o)}replace(t,e,n){var r=this.resolve(t),i=this.resolve(e);if(n.openStart>r.depth)throw new g("Inserted content deeper than insertion position");if(r.depth-n.openStart!=i.depth-n.openEnd)throw new g("Inconsistent open depths");return function t(e,n,r,i){let o=e.index(i),s=e.node(i);if(o==n.index(i)&&i<e.depth-r.openStart){let l=t(e,n,r,i+1);return s.copy(s.content.replaceChild(o,l))}if(!r.content.size)return w(s,$(e,n,i));if(r.openStart||r.openEnd||e.depth!=i||n.depth!=i){let{start:t,end:o}=function(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let t=n-1;t>=0;t--)r=e.node(t).copy(u.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(r,e);return w(s,function t(e,n,r,i,o){let s=e.depth>o&&y(e,n,o+1),l=i.depth>o&&y(r,i,o+1),a=[];return b(null,e,o,a),s&&l&&n.index(o)==r.index(o)?(m(s,l),x(w(s,t(e,n,r,i,o+1)),a)):(s&&x(w(s,$(e,n,o+1)),a),b(n,r,o,a),l&&x(w(l,$(r,i,o+1)),a)),b(i,null,o,a),new u(a)}(e,t,o,n,i))}{let t=e.parent,i=t.content;return w(t,i.cut(0,e.parentOffset).append(r.content).append(i.cut(n.parentOffset)))}}(r,i,n,0)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(!(e=e.maybeChild(n)))return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return _.resolveCached(this,t)}resolveNoCache(t){return _.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,t=>(n.isInSet(t.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),function(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=u.empty,r=0,i=n.childCount){let o=this.contentMatchAt(t).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let t=r;t<i;t++)if(!this.type.allowsMarks(n.child(t).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=p.none;for(let e=0;e<this.marks.length;e++){let n=this.marks[e];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!p.sameSet(t,this.marks))throw RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(t=>t.toJSON())),t}static fromJSON(t,e){let n;if(!e)throw RangeError("Invalid input for Node.fromJSON");if(e.marks){if(!Array.isArray(e.marks))throw RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=u.fromJSON(t,e.content),i=t.nodeType(e.type).create(e.attrs,r,n);return i.type.checkAttrs(i.attrs),i}}).prototype.text=void 0;var O=class t{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(e,n){var r;let i,o=new T(e,n);if(null==o.next)return t.empty;let s=function t(e){let n=[];do n.push(function(e){let n=[];do n.push(function(e){let n=function(e){if(e.eat("(")){let n=t(e);return e.eat(")")||e.err("Missing closing paren"),n}if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=(function(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let t in n){let r=n[t];r.isInGroup(e)&&i.push(r)}return 0==i.length&&t.err("No node type or group '"+e+"' found"),i})(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}}(e);for(;;)if(e.eat("+"))n={type:"plus",expr:n};else if(e.eat("*"))n={type:"star",expr:n};else if(e.eat("?"))n={type:"opt",expr:n};else if(e.eat("{"))n=function(t,e){let n=A(t),r=n;return t.eat(",")&&(r="}"!=t.next?A(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}(e,n);else break;return n}(e));while(e.next&&")"!=e.next&&"|"!=e.next);return 1==n.length?n[0]:{type:"seq",exprs:n}}(e));while(e.eat("|"));return 1==n.length?n[0]:{type:"choice",exprs:n}}(o);o.next&&o.err("Unexpected trailing text");let l=(r=function(t){let e=[[]];return i(function t(e,o){if("choice"==e.type)return e.exprs.reduce((e,n)=>e.concat(t(n,o)),[]);if("seq"==e.type)for(let r=0;;r++){let s=t(e.exprs[r],o);if(r==e.exprs.length-1)return s;i(s,o=n())}else if("star"==e.type){let s=n();return r(o,s),i(t(e.expr,s),s),[r(s)]}else if("plus"==e.type){let s=n();return i(t(e.expr,o),s),i(t(e.expr,s),s),[r(s)]}else if("opt"==e.type)return[r(o)].concat(t(e.expr,o));else if("range"==e.type){let s=o;for(let r=0;r<e.min;r++){let r=n();i(t(e.expr,s),r),s=r}if(-1==e.max)i(t(e.expr,s),s);else for(let o=e.min;o<e.max;o++){let o=n();r(s,o),i(t(e.expr,s),o),s=o}return[r(s)]}else if("name"==e.type)return[r(o,void 0,e.value)];else throw Error("Unknown expr type")}(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){let i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach(t=>t.to=e)}}(s),i=Object.create(null),function t(e){let n=[];e.forEach(t=>{r[t].forEach(({term:t,to:e})=>{let i;if(t){for(let e=0;e<n.length;e++)n[e][0]==t&&(i=n[e][1]);D(r,e).forEach(e=>{i||n.push([t,i=[]]),-1==i.indexOf(e)&&i.push(e)})}})});let o=i[e.join(",")]=new O(e.indexOf(r.length-1)>-1);for(let e=0;e<n.length;e++){let r=n[e][1].sort(N);o.next.push({type:n[e][0],next:i[r.join(",")]||t(r)})}return o}(D(r,0)));return function(t,e){for(let n=0,r=[t];n<r.length;n++){let t=r[n],i=!t.validEnd,o=[];for(let e=0;e<t.next.length;e++){let{type:n,next:s}=t.next[e];o.push(n.name),i&&!(n.isText||n.hasRequiredAttrs())&&(i=!1),-1==r.indexOf(s)&&r.push(s)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(l,o),l}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];return function i(o,s){let l=o.matchFragment(t,n);if(l&&(!e||l.validEnd))return u.from(s.map(t=>t.createAndFill()));for(let t=0;t<o.next.length;t++){let{type:e,next:n}=o.next[t];if(!(e.isText||e.hasRequiredAttrs())&&-1==r.indexOf(n)){r.push(n);let t=i(n,s.concat(e));if(t)return t}}return null}(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(t)){let t=[];for(let e=r;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<i.next.length;t++){let{type:o,next:s}=i.next[t];o.isLeaf||o.hasRequiredAttrs()||o.name in e||r.type&&!s.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),e[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return!function e(n){t.push(n);for(let r=0;r<n.next.length;r++)-1==t.indexOf(n.next[r].next)&&e(n.next[r].next)}(this),t.map((e,n)=>{let r=n+(e.validEnd?"*":" ")+" ";for(let n=0;n<e.next.length;n++)r+=(n?", ":"")+e.next[n].type.name+"->"+t.indexOf(e.next[n].next);return r}).join("\n")}};O.empty=new O(!0);var T=class{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw SyntaxError(t+" (in content expression '"+this.string+"')")}};function A(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function N(t,e){return e-t}function D(t,e){let n=[];return function e(r){let i=t[r];if(1==i.length&&!i[0].term)return e(i[0].to);n.push(r);for(let t=0;t<i.length;t++){let{term:r,to:o}=i[t];r||-1!=n.indexOf(o)||e(o)}}(e),n.sort(N)}var q=class t{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=z(e).createDocumentFragment());let r=n,i=[];return t.forEach(t=>{if(i.length||t.marks.length){let n=0,o=0;for(;n<i.length&&o<t.marks.length;){let e=t.marks[o];if(!this.marks[e.type.name]){o++;continue}if(!e.eq(i[n][0])||!1===e.type.spec.spanning)break;n++,o++}for(;n<i.length;)r=i.pop()[1];for(;o<t.marks.length;){let n=t.marks[o++],s=this.serializeMark(n,t.isInline,e);s&&(i.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(t,e))}),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=I(z(e),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&I(z(n),r(t,e),null,t.attrs)}static renderSpec(t,e,n=null,r){return I(t,e,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new t(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(t){let e=M(t.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return M(t.marks)}};function M(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function z(t){return t.document||window.document}var R=new WeakMap;function I(t,e,n,r){let i,o,s;if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let l=e[0],a;if("string"!=typeof l)throw RangeError("Invalid array passed to renderSpec");if(r&&(void 0===(o=R.get(r))&&R.set(r,(s=null,!function t(e){if(e&&"object"==typeof e)if(Array.isArray(e))if("string"==typeof e[0])s||(s=[]),s.push(e);else for(let n=0;n<e.length;n++)t(e[n]);else for(let n in e)t(e[n])}(r),o=s)),a=o)&&a.indexOf(e)>-1)throw RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=l.indexOf(" ");c>0&&(n=l.slice(0,c),l=l.slice(c+1));let u=n?t.createElementNS(n,l):t.createElement(l),f=e[1],h=1;if(f&&"object"==typeof f&&null==f.nodeType&&!Array.isArray(f)){for(let t in h=2,f)if(null!=f[t]){let e=t.indexOf(" ");e>0?u.setAttributeNS(t.slice(0,e),t.slice(e+1),f[t]):u.setAttribute(t,f[t])}}for(let o=h;o<e.length;o++){let s=e[o];if(0===s){if(o<e.length-1||o>h)throw RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}{let{dom:e,contentDOM:o}=I(t,s,n,r);if(u.appendChild(e),o){if(i)throw RangeError("Multiple content holes");i=o}}}return{dom:u,contentDOM:i}}var P=(0,a.v)(c(),1);function B(){}function F(t,e){for(let n in e)t[n]=e[n];return t}function L(t){return t()}function U(){return Object.create(null)}function J(t){t.forEach(L)}function H(t){return"function"==typeof t}function V(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function G(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(null==t){for(let t of n)t(void 0);return B}let i=t.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function K(t){let e;return G(t,t=>e=t)(),e}function W(t,e,n){t.$$.on_destroy.push(G(e,n))}function Y(t,e,n,r){if(t){let i=Q(t,e,n,r);return t[0](i)}}function Q(t,e,n,r){return t[1]&&r?F(n.ctx.slice(),t[1](r(e))):n.ctx}function Z(t,e,n,r){if(t[2]&&r){let i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){let t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function X(t,e,n,r,i,o){if(i){let s=Q(e,n,r,o);t.p(s,i)}}function tt(t){if(t.ctx.length>32){let e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return -1}function te(t){let e={};for(let n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function tn(t){return null==t?"":t}function tr(t,e){t.appendChild(e)}function ti(t,e,n){let r=function(t){if(!t)return document;let e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}(t);if(!r.getElementById(e)){var i,o;let t=ta("style");t.id=e,t.textContent=n,i=r,o=t,tr(i.head||i,o),o.sheet}}function to(t,e,n){t.insertBefore(e,n||null)}function ts(t){t.parentNode&&t.parentNode.removeChild(t)}function tl(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function ta(t){return document.createElement(t)}function tc(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function tu(t){return document.createTextNode(t)}function tf(){return tu(" ")}function th(){return tu("")}function td(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function tp(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function tg(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function tv(t,e){e=""+e,t.data!==e&&(t.data=e)}function tm(t,e){t.value=null==e?"":e}function ty(t,e,n){t.classList.toggle(e,!!n)}function tx(){if(!o)throw Error("Function called outside component initialization");return o}function tb(t){tx().$$.on_mount.push(t)}function tw(){let t=tx();return function(e,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.$$.callbacks[e];if(i){let o=function(t,e){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}(e,n,{cancelable:r});return i.slice().forEach(e=>{e.call(t,o)}),!o.defaultPrevented}return!0}}function t$(t,e){return tx().$$.context.set(t,e),e}function t_(t){return tx().$$.context.get(t)}function tk(t,e){let n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}var tj=[],tC=[],tS=[],tE=[],tO=Promise.resolve(),tT=!1;function tA(t){tS.push(t)}var tN=new Set,tD=0;function tq(){if(0!==tD)return;let t=o;do{try{for(;tD<tj.length;){let t=tj[tD];tD++,o=t,function(t){if(null!==t.fragment){t.update(),J(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tA)}}(t.$$)}}catch(t){throw tj.length=0,tD=0,t}for(o=null,tj.length=0,tD=0;tC.length;)tC.pop()();for(let t=0;t<tS.length;t+=1){let e=tS[t];tN.has(e)||(tN.add(e),e())}tS.length=0}while(tj.length);for(;tE.length;)tE.pop()();tT=!1,tN.clear(),o=t}var tM=new Set;function tz(){s={r:0,c:[],p:s}}function tR(){s.r||J(s.c),s=s.p}function tI(t,e){t&&t.i&&(tM.delete(t),t.i(e))}function tP(t,e,n,r){t&&t.o?tM.has(t)||(tM.add(t),s.c.push(()=>{tM.delete(t),r&&(n&&t.d(1),r())}),t.o(e)):r&&r()}function tB(t){return(null==t?void 0:t.length)!==void 0?t:Array.from(t)}function tF(t,e){t.d(1),e.delete(t.key)}function tL(t,e,n,r,i,o,s,l,a,c,u,f){let h=t.length,d=o.length,p=h,g={};for(;p--;)g[t[p].key]=p;let v=[],m=new Map,y=new Map,x=[];for(p=d;p--;){let t=f(i,o,p),r=n(t),l=s.get(r);l?x.push(()=>l.p(t,e)):(l=c(r,t)).c(),m.set(r,v[p]=l),r in g&&y.set(r,Math.abs(p-g[r]))}let b=new Set,w=new Set;function $(t){tI(t,1),t.m(l,u),s.set(t.key,t),u=t.first,d--}for(;h&&d;){let e=v[d-1],n=t[h-1],r=e.key,i=n.key;e===n?(u=e.first,h--,d--):m.has(i)?!s.has(r)||b.has(r)?$(e):w.has(i)?h--:y.get(r)>y.get(i)?(w.add(r),$(e)):(b.add(i),h--):(a(n,s),h--)}for(;h--;){let e=t[h];m.has(e.key)||a(e,s)}for(;d;)$(v[d-1]);return J(x),v}function tU(t){t&&t.c()}function tJ(t,e,n){let{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),tA(()=>{let e=t.$$.on_mount.map(L).filter(H);t.$$.on_destroy?t.$$.on_destroy.push(...e):J(e),t.$$.on_mount=[]}),i.forEach(tA)}function tH(t,e){let n=t.$$;if(null!==n.fragment){var r=n.after_update;let t=[],i=[];tS.forEach(e=>-1===r.indexOf(e)?t.push(e):i.push(e)),i.forEach(t=>t()),tS=t,J(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[]}}function tV(t,e,n,r,i,s){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],c=o;o=t;let u=t.$$={fragment:null,ctx:[],props:s,update:B,not_equal:i,bound:U(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:U(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},function(e,n){let r=(arguments.length<=2?0:arguments.length-2)?arguments.length<=2?void 0:arguments[2]:n;u.ctx&&i(u.ctx[e],u.ctx[e]=r)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](r),f&&(-1===t.$$.dirty[0]&&(tj.push(t),tT||(tT=!0,tO.then(tq)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31));return n}):[],u.update(),f=!0,J(u.before_update),u.fragment=!!r&&r(u.ctx),e.target){if(e.hydrate){let t=Array.from(e.target.childNodes);u.fragment&&u.fragment.l(t),t.forEach(ts)}else u.fragment&&u.fragment.c();e.intro&&tI(t.$$.fragment),tJ(t,e.target,e.anchor),tq()}o=c}var tG=class{constructor(){this.$$=void 0,this.$$set=void 0}$destroy(){tH(this,1),this.$destroy=B}$on(t,e){if(!H(e))return B;let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{let t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var tK=(t,e)=>t$(t,e),tW=t=>t_(t);function tY(t){ti(t,"svelte-1lt2k10",".floating-btn.svelte-1lt2k10.svelte-1lt2k10{background:#363755;border:0;border-radius:50%;box-shadow:0 0 30px rgba(34, 34, 34, 0.3);cursor:pointer;position:fixed;padding:6px;transition:opacity 0.3s;-webkit-transition:opacity 0.3s;z-index:99999}.floating-btn.bottom-right.svelte-1lt2k10.svelte-1lt2k10{bottom:16px;right:16px}.floating-btn.bottom-left.svelte-1lt2k10.svelte-1lt2k10{bottom:16px;left:16px}.floating-btn.top-right.svelte-1lt2k10.svelte-1lt2k10{top:16px;right:16px}.floating-btn.top-left.svelte-1lt2k10.svelte-1lt2k10{top:16px;left:16px}.floating-btn.svelte-1lt2k10.svelte-1lt2k10:hover{opacity:0.7}.floating-btn.svelte-1lt2k10>svg.svelte-1lt2k10{display:block;width:34px;height:34px;position:relative}")}function tQ(t){let e,n,r,i,o,s,l,a,c,u,f,h,d,p,g,v,m,y,x,b,w,$,_,k;return{c(){e=ta("button"),n=tc("svg"),r=tc("title"),i=tu("prosemirror"),o=tc("desc"),s=tu("Created using Figma"),l=tc("use"),a=tc("use"),c=tc("use"),u=tc("use"),f=tc("use"),h=tc("use"),d=tc("use"),p=tc("defs"),g=tc("path"),v=tc("path"),m=tc("path"),y=tc("path"),x=tc("path"),b=tc("path"),w=tc("path"),tg(l,"xlink:href","#a"),tp(l,"transform","matrix(2 0 0 2 118 116)"),tp(l,"fill","#FFF"),tg(a,"xlink:href","#b"),tp(a,"transform","rotate(16 59.054 420.192) scale(2)"),tp(a,"fill","#FFF"),tg(c,"xlink:href","#c"),tp(c,"transform","matrix(2 0 0 2 154.024 141.58)"),tp(c,"fill","#363755"),tg(u,"xlink:href","#d"),tp(u,"transform","matrix(2 0 0 2 220 334.8)"),tp(u,"fill","#FFF"),tg(f,"xlink:href","#e"),tp(f,"transform","matrix(2 0 0 2 218.826 262.052)"),tp(f,"fill","#363755"),tg(h,"xlink:href","#f"),tp(h,"transform","matrix(2 0 0 2 197.108 184.998)"),tp(h,"fill","#FFF"),tg(d,"xlink:href","#g"),tp(d,"transform","matrix(2 0 0 2 221.8 216)"),tp(d,"fill","#363755"),tp(g,"id","a"),tp(g,"d","M73.5 0C32.859 0 0 32.859 0 73.5S32.859 147 73.5 147 147 114.141 147 73.5 114.069 0 73.5\n        0z"),tp(v,"id","b"),tp(v,"d","M193.601 107.116c0-13.376 8.238-23.91\n        20.619-31.153-2.244-7.447-5.19-14.6-8.824-21.32-13.886\n        3.633-25.12-1.799-34.568-11.26-9.449-9.437-12.344-20.672-8.709-34.571A111.362 111.362 0 0 0\n        140.799 0c-7.243 12.37-20.339 20.594-33.689 20.594-13.363\n        0-26.446-8.225-33.701-20.594A110.888 110.888 0 0 0 52.1 8.812c3.634 13.9.753 25.134-8.721\n        34.57-9.436 9.462-20.67 14.894-34.569 11.26A112.178 112.178 0 0 0 0 75.963c12.369 7.243\n        20.593 17.777 20.593 31.153 0 13.352-8.224 26.448-20.593 33.704a113.338 113.338 0 0 0 8.811\n        21.321c13.899-3.634 25.133-.752 34.569 8.697 9.448 9.462 12.355 20.696 8.721 34.57a112.653\n        112.653 0 0 0 21.32 8.837c7.243-12.407 20.338-20.619 33.702-20.619 13.35 0 26.446 8.225\n        33.701 20.619a114.22 114.22 0 0 0 21.32-8.837c-3.634-13.874-.752-25.108 8.709-34.57\n        9.449-9.437 20.683-14.869 34.569-11.26a112.343 112.343 0 0 0\n        8.823-21.321c-12.406-7.256-20.644-17.789-20.644-31.141zm-86.491 46.57c-25.732\n        0-46.58-20.849-46.58-46.57 0-25.733 20.86-46.595 46.58-46.595 25.732 0 46.567 20.875 46.567\n        46.595 0 25.734-20.835 46.57-46.567 46.57z"),tp(m,"id","c"),tp(m,"d","M98.088 49.91c-6.9 83.9 10.8 103.401 10.8 103.401s-55.1\n        5.499-82.7-13.401c-30.5-20.9-26-67.5-25.9-94.6.1-28.4 25.6-45.8 49.9-45.3 29.1.5 50.2 21.6\n        47.9 49.9z"),tp(y,"id","d"),tp(y,"d","M.1.1c12.2 33.3 22.5 42.7 40 55.2 25.3 18 36.6 17.5 76.3 41C78.1 60.3 30.8 45.7 0 0l.1.1z"),tp(x,"id","e"),tp(x,"d","M.687 36.474c3 13.3 17.9 29.9 30.4 41.6 24.8 23.2 42 22.4 86\n        54.7-18.2-51.8-18.8-62-43.5-106.1-24.7-44-67.6-20.3-67.6-20.3s-8.4 16.6-5.3 29.9v.2z"),tp(b,"id","f"),tp(b,"d","M38.346 11.5s-4-11.6-18-11.5c-30 .2-28.8 52.1 16.9 52 39.6-.1 39.2-49.4\n        16.1-49.6-10.2-.2-15 9.1-15 9.1z"),tp(w,"id","g"),tp(w,"d","M26.5 15c10.8 0 2 14.9-.6 20.9-1.8-8.4-10.2-20.9.6-20.9zM10.2.1C4.6.1 0 4.6 0 10.3c0 5.6\n        4.5 10.2 10.2 10.2 5.6 0 10.2-4.5 10.2-10.2C20.4 4.7 15.9.1 10.2.1zM40.7 0c-4.8 0-8.8\n        4.5-8.8 10.2 0 5.6 3.9 10.2 8.8 10.2 4.8 0 8.8-4.5 8.8-10.2C49.5 4.6 45.6 0 40.7 0z"),tp(n,"width","530"),tp(n,"height","530"),tp(n,"viewBox","0 0 530 530"),tp(n,"xmlns","http://www.w3.org/2000/svg"),tp(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),tp(n,"class","svelte-1lt2k10"),tp(e,"class",$=tn("floating-btn ".concat(t[0]))+" svelte-1lt2k10")},m($,j){to($,e,j),tr(e,n),tr(n,r),tr(r,i),tr(n,o),tr(o,s),tr(n,l),tr(n,a),tr(n,c),tr(n,u),tr(n,f),tr(n,h),tr(n,d),tr(n,p),tr(p,g),tr(p,v),tr(p,m),tr(p,y),tr(p,x),tr(p,b),tr(p,w),_||(k=td(e,"click",t[1]),_=!0)},p(t,n){let[r]=n;1&r&&$!==($=tn("floating-btn ".concat(t[0]))+" svelte-1lt2k10")&&tp(e,"class",$)},i:B,o:B,d(t){t&&ts(e),_=!1,k()}}}function tZ(t,e,n){let{buttonPosition:r}=e;return t.$$set=t=>{"buttonPosition"in t&&n(0,r=t.buttonPosition)},[r,function(e){tk.call(this,t,e)}]}var tX=class extends tG{constructor(t){super(),tV(this,t,tZ,tQ,V,{buttonPosition:0},tY)}},t1=[];function t0(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,r=new Set;function i(n){if(V(t,n)&&(t=n,e)){let e=!t1.length;for(let e of r)e[1](),t1.push(e,t);if(e){for(let t=0;t<t1.length;t+=2)t1[t][0](t1[t+1]);t1.length=0}}}function o(e){i(e(t))}return{set:i,update:o,subscribe:function(s){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,a=[s,l];return r.add(a),1===r.size&&(e=n(i,o)||B),s(t),()=>{r.delete(a),0===r.size&&e&&(e(),e=null)}}}}var t2="__prosemirror-dev-toolkit__snapshots",t3=t0([]),t5=t0(),t6=t0(),t4=!0;let t9=null;try{t9=localStorage.getItem(t2)}catch(t){t4=!1}if(t9&&t9.length>0)try{let t=JSON.parse(t9);t3.set(t)}catch(t){console.error("Corrupted snapshots values in localStorage",t)}function t7(t,e){let n=t.state.schema.nodeFromJSON(e),r=t.state.tr;r.replaceWith(0,t.state.doc.nodeSize-2,n.content),t.dispatch(r)}function t8(t,e){let n={name:t,timestamp:Date.now(),doc:e};return t3.update(t=>[n,...t]),n}function et(t){t3.update(e=>e.map(e=>e.timestamp===t.timestamp?t:e))}function ee(t,e){t7(t,e.doc),t6.set(void 0),t5.set(void 0)}function en(t){let e=document.createElement("a"),n=new Blob([JSON.stringify(t.doc)],{type:"application/json"});e.href=URL.createObjectURL(n),e.download=`${t.name}.json`,e.click()}function er(t){t3.update(e=>e.filter(e=>e.timestamp!==t.timestamp));let e=K(t5);(null==e?void 0:e.timestamp)===t.timestamp&&t5.set(void 0)}function ei(t,e){let n=n=>{!t||n.composedPath().includes(t)||n.defaultPrevented||e()};return document.addEventListener("click",n,!0),{destroy(){document.removeEventListener("click",n,!0)}}}function eo(t){ti(t,"svelte-19h7j7n",".paste-modal.svelte-19h7j7n.svelte-19h7j7n{font-size:15px;height:100%;left:0;position:fixed;top:0;width:100%;z-index:1000}.paste-modal.svelte-19h7j7n>form.svelte-19h7j7n{display:flex;height:100%;justify-content:center;padding:64px}.modal-bg.svelte-19h7j7n.svelte-19h7j7n{background:#000;height:100%;left:0;opacity:0.8;position:absolute;top:0;width:100%;z-index:-1}fieldset.svelte-19h7j7n.svelte-19h7j7n{border-color:transparent;width:100%;max-width:800px}.submit-container.svelte-19h7j7n.svelte-19h7j7n{position:relative;width:100%}button.svelte-19h7j7n.svelte-19h7j7n{cursor:pointer;padding:4px 8px;position:absolute;right:-6px;top:-32px}legend.svelte-19h7j7n.svelte-19h7j7n{color:white}textarea.svelte-19h7j7n.svelte-19h7j7n{background:#fefcfc;height:calc(100vh - 128px);width:100%}")}function es(t){let e,n,r,i,o,s,l,a,c,u,f,h;return{c(){e=ta("div"),n=ta("div"),r=tf(),i=ta("form"),o=ta("fieldset"),(s=ta("div")).innerHTML='<button class="svelte-19h7j7n">Submit</button>',l=tf(),(a=ta("legend")).textContent="Doc",c=tf(),u=ta("textarea"),tp(n,"class","modal-bg svelte-19h7j7n"),tp(s,"class","submit-container svelte-19h7j7n"),tp(a,"class","svelte-19h7j7n"),tp(u,"class","svelte-19h7j7n"),tp(o,"class","svelte-19h7j7n"),tp(i,"class","paste-content svelte-19h7j7n"),tp(e,"class","paste-modal svelte-19h7j7n"),ty(e,"hidden",!t[0])},m(d,p){if(to(d,e,p),tr(e,n),tr(e,r),tr(e,i),tr(i,o),tr(o,s),tr(o,l),tr(o,a),tr(o,c),tr(o,u),tm(u,t[1]),!f){var g,v;h=[td(u,"input",t[4]),(g=ei.call(null,o,t[2]))&&H(g.destroy)?g.destroy:B,td(i,"submit",(v=t[3],function(t){return t.preventDefault(),v.call(this,t)}))],f=!0}},p(t,n){let[r]=n;2&r&&tm(u,t[1]),1&r&&ty(e,"hidden",!t[0])},i:B,o:B,d(t){t&&ts(e),f=!1,J(h)}}}function el(t,e,n){let r,{isOpen:i}=e,o=tw();return t.$$set=t=>{"isOpen"in t&&n(0,i=t.isOpen)},[i,r,function(){o("close")},function(){try{o("submit",{doc:JSON.parse(r)})}catch(t){}},function(){n(1,r=this.value)}]}t3.subscribe(t=>{t4&&localStorage.setItem(t2,JSON.stringify(t))});var ea=class extends tG{constructor(t){super(),tV(this,t,el,es,V,{isOpen:0},eo)}};function ec(t){ti(t,"svelte-10notzq","ul.svelte-10notzq{display:flex;list-style:none;margin:0;overflow-x:scroll;padding:0}button.svelte-10notzq{background:transparent;border:0;border-bottom:2px solid transparent;color:#fff;cursor:pointer;height:100%;font-size:var(--font-medium);font-weight:400;padding:1em}button.svelte-10notzq:hover{background:rgba(255, 255, 255, 0.05)}button.active.svelte-10notzq{border-bottom:2px solid rgb(255, 162, 177)}")}function eu(t){let e,n,r,i,o,s,l,a,c,u,f,h,d,p,g,v,m,y,x,b;return{c(){e=ta("ul"),n=ta("li"),(r=ta("button")).textContent="STATE",i=tf(),o=ta("li"),(s=ta("button")).textContent="HISTORY",l=tf(),a=ta("li"),(c=ta("button")).textContent="PLUGINS",u=tf(),f=ta("li"),(h=ta("button")).textContent="SCHEMA",d=tf(),p=ta("li"),(g=ta("button")).textContent="STRUCTURE",v=tf(),m=ta("li"),(y=ta("button")).textContent="SNAPSHOTS",tp(r,"class","svelte-10notzq"),ty(r,"active","state"===t[0]),tp(s,"class","svelte-10notzq"),ty(s,"active","history"===t[0]),tp(c,"class","svelte-10notzq"),ty(c,"active","plugins"===t[0]),tp(h,"class","svelte-10notzq"),ty(h,"active","schema"===t[0]),tp(g,"class","svelte-10notzq"),ty(g,"active","structure"===t[0]),tp(y,"class","svelte-10notzq"),ty(y,"active","snapshots"===t[0]),tp(e,"class","tabs-menu svelte-10notzq")},m(w,$){to(w,e,$),tr(e,n),tr(n,r),tr(e,i),tr(e,o),tr(o,s),tr(e,l),tr(e,a),tr(a,c),tr(e,u),tr(e,f),tr(f,h),tr(e,d),tr(e,p),tr(p,g),tr(e,v),tr(e,m),tr(m,y),x||(b=[td(r,"click",t[2]),td(s,"click",t[3]),td(c,"click",t[4]),td(h,"click",t[5]),td(g,"click",t[6]),td(y,"click",t[7])],x=!0)},p(t,e){let[n]=e;1&n&&ty(r,"active","state"===t[0]),1&n&&ty(s,"active","history"===t[0]),1&n&&ty(c,"active","plugins"===t[0]),1&n&&ty(h,"active","schema"===t[0]),1&n&&ty(g,"active","structure"===t[0]),1&n&&ty(y,"active","snapshots"===t[0])},i:B,o:B,d(t){t&&ts(e),x=!1,J(b)}}}function ef(t,e,n){let{active:r,onClickTab:i}=e;return t.$$set=t=>{"active"in t&&n(0,r=t.active),"onClickTab"in t&&n(1,i=t.onClickTab)},[r,i,()=>i("state"),()=>i("history"),()=>i("plugins"),()=>i("schema"),()=>i("structure"),()=>i("snapshots")]}var eh=class extends tG{constructor(t){super(),tV(this,t,ef,eu,V,{active:0,onClickTab:1},ec)}},ed={exports:{}};(r=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}).Diff=function(t,e){return[t,e]},r.prototype.diff_main=function(t,e,n,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:new Date().getTime()+1e3*this.Diff_Timeout);var o=i;if(null==t||null==e)throw Error("Null input. (diff_main)");if(t==e)return t?[new r.Diff(0,t)]:[];void 0===n&&(n=!0);var s=n,l=this.diff_commonPrefix(t,e),a=t.substring(0,l);t=t.substring(l),e=e.substring(l),l=this.diff_commonSuffix(t,e);var c=t.substring(t.length-l);t=t.substring(0,t.length-l),e=e.substring(0,e.length-l);var u=this.diff_compute_(t,e,s,o);return a&&u.unshift(new r.Diff(0,a)),c&&u.push(new r.Diff(0,c)),this.diff_cleanupMerge(u),u},r.prototype.diff_compute_=function(t,e,n,i){if(!t)return[new r.Diff(1,e)];if(!e)return[new r.Diff(-1,t)];var o,s=t.length>e.length?t:e,l=t.length>e.length?e:t,a=s.indexOf(l);if(-1!=a)return o=[new r.Diff(1,s.substring(0,a)),new r.Diff(0,l),new r.Diff(1,s.substring(a+l.length))],t.length>e.length&&(o[0][0]=o[2][0]=-1),o;if(1==l.length)return[new r.Diff(-1,t),new r.Diff(1,e)];var c=this.diff_halfMatch_(t,e);if(c){var u=c[0],f=c[1],h=c[2],d=c[3],p=c[4],g=this.diff_main(u,h,n,i),v=this.diff_main(f,d,n,i);return g.concat([new r.Diff(0,p)],v)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,i):this.diff_bisect_(t,e,i)},r.prototype.diff_lineMode_=function(t,e,n){var i=this.diff_linesToChars_(t,e);t=i.chars1,e=i.chars2;var o=i.lineArray,s=this.diff_main(t,e,!1,n);this.diff_charsToLines_(s,o),this.diff_cleanupSemantic(s),s.push(new r.Diff(0,""));for(var l=0,a=0,c=0,u="",f="";l<s.length;){switch(s[l][0]){case 1:c++,f+=s[l][1];break;case -1:a++,u+=s[l][1];break;case 0:if(a>=1&&c>=1){s.splice(l-a-c,a+c),l=l-a-c;for(var h=this.diff_main(u,f,!1,n),d=h.length-1;d>=0;d--)s.splice(l,0,h[d]);l+=h.length}c=0,a=0,u="",f=""}l++}return s.pop(),s},r.prototype.diff_bisect_=function(t,e,n){for(var i=t.length,o=e.length,s=Math.ceil((i+o)/2),l=2*s,a=Array(l),c=Array(l),u=0;u<l;u++)a[u]=-1,c[u]=-1;a[s+1]=0,c[s+1]=0;for(var f=i-o,h=f%2!=0,d=0,p=0,g=0,v=0,m=0;m<s&&!(new Date().getTime()>n);m++){for(var y=-m+d;y<=m-p;y+=2){for(var x,b=s+y,w=(x=y==-m||y!=m&&a[b-1]<a[b+1]?a[b+1]:a[b-1]+1)-y;x<i&&w<o&&t.charAt(x)==e.charAt(w);)x++,w++;if(a[b]=x,x>i)p+=2;else if(w>o)d+=2;else if(h){var $=s+f-y;if($>=0&&$<l&&-1!=c[$]){var _=i-c[$];if(x>=_)return this.diff_bisectSplit_(t,e,x,w,n)}}}for(var k=-m+g;k<=m-v;k+=2){for(var _,$=s+k,j=(_=k==-m||k!=m&&c[$-1]<c[$+1]?c[$+1]:c[$-1]+1)-k;_<i&&j<o&&t.charAt(i-_-1)==e.charAt(o-j-1);)_++,j++;if(c[$]=_,_>i)v+=2;else if(j>o)g+=2;else if(!h){var b=s+f-k;if(b>=0&&b<l&&-1!=a[b]){var x=a[b],w=s+x-b;if(x>=(_=i-_))return this.diff_bisectSplit_(t,e,x,w,n)}}}}return[new r.Diff(-1,t),new r.Diff(1,e)]},r.prototype.diff_bisectSplit_=function(t,e,n,r,i){var o=t.substring(0,n),s=e.substring(0,r),l=t.substring(n),a=e.substring(r),c=this.diff_main(o,s,!1,i),u=this.diff_main(l,a,!1,i);return c.concat(u)},r.prototype.diff_linesToChars_=function(t,e){var n=[],r={};function i(t){for(var e="",i=0,s=-1,l=n.length;s<t.length-1;){-1==(s=t.indexOf("\n",i))&&(s=t.length-1);var a=t.substring(i,s+1);(r.hasOwnProperty?r.hasOwnProperty(a):void 0!==r[a])?e+=String.fromCharCode(r[a]):(l==o&&(a=t.substring(i),s=t.length),e+=String.fromCharCode(l),r[a]=l,n[l++]=a),i=s+1}return e}n[0]="";var o=4e4,s=i(t);return o=65535,{chars1:s,chars2:i(e),lineArray:n}},r.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n][1],i=[],o=0;o<r.length;o++)i[o]=e[r.charCodeAt(o)];t[n][1]=i.join("")}},r.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},r.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},r.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var o=0,s=1;;){var l=t.substring(i-s),a=e.indexOf(l);if(-1==a)return o;s+=a,(0==a||t.substring(i-s)==e.substring(0,s))&&(o=s,s++)}},r.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n,r,i,o,s,l=t.length>e.length?t:e,a=t.length>e.length?e:t;if(l.length<4||2*a.length<l.length)return null;var c=this;function u(t,e,n){for(var r,i,o,s,l=t.substring(n,n+Math.floor(t.length/4)),a=-1,u="";-1!=(a=e.indexOf(l,a+1));){var f=c.diff_commonPrefix(t.substring(n),e.substring(a)),h=c.diff_commonSuffix(t.substring(0,n),e.substring(0,a));u.length<h+f&&(u=e.substring(a-h,a)+e.substring(a,a+f),r=t.substring(0,n-h),i=t.substring(n+f),o=e.substring(0,a-h),s=e.substring(a+f))}return 2*u.length>=t.length?[r,i,o,s,u]:null}var f=u(l,a,Math.ceil(l.length/4)),h=u(l,a,Math.ceil(l.length/2));return f||h?(n=h?f&&f[4].length>h[4].length?f:h:f,t.length>e.length?(r=n[0],i=n[1],o=n[2],s=n[3]):(o=n[0],s=n[1],r=n[2],i=n[3]),[r,i,o,s,n[4]]):null},r.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],i=0,o=null,s=0,l=0,a=0,c=0,u=0;s<t.length;)0==t[s][0]?(n[i++]=s,l=c,a=u,c=0,u=0,o=t[s][1]):(1==t[s][0]?c+=t[s][1].length:u+=t[s][1].length,o&&o.length<=Math.max(l,a)&&o.length<=Math.max(c,u)&&(t.splice(n[i-1],0,new r.Diff(-1,o)),t[n[i-1]+1][0]=1,i--,s=--i>0?n[i-1]:-1,l=0,a=0,c=0,u=0,o=null,e=!0)),s++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),s=1;s<t.length;){if(-1==t[s-1][0]&&1==t[s][0]){var f=t[s-1][1],h=t[s][1],d=this.diff_commonOverlap_(f,h),p=this.diff_commonOverlap_(h,f);d>=p?(d>=f.length/2||d>=h.length/2)&&(t.splice(s,0,new r.Diff(0,h.substring(0,d))),t[s-1][1]=f.substring(0,f.length-d),t[s+1][1]=h.substring(d),s++):(p>=f.length/2||p>=h.length/2)&&(t.splice(s,0,new r.Diff(0,f.substring(0,p))),t[s-1][0]=1,t[s-1][1]=h.substring(0,h.length-p),t[s+1][0]=-1,t[s+1][1]=f.substring(p),s++),s++}s++}},r.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var n=t.charAt(t.length-1),i=e.charAt(0),o=n.match(r.nonAlphaNumericRegex_),s=i.match(r.nonAlphaNumericRegex_),l=o&&n.match(r.whitespaceRegex_),a=s&&i.match(r.whitespaceRegex_),c=l&&n.match(r.linebreakRegex_),u=a&&i.match(r.linebreakRegex_),f=c&&t.match(r.blanklineEndRegex_),h=u&&e.match(r.blanklineStartRegex_);if(f||h)return 5;if(c||u)return 4;if(o&&!l&&a)return 3;if(l||a)return 2;if(o||s)return 1;return 0}for(var n=1;n<t.length-1;){if(0==t[n-1][0]&&0==t[n+1][0]){var i=t[n-1][1],o=t[n][1],s=t[n+1][1],l=this.diff_commonSuffix(i,o);if(l){var a=o.substring(o.length-l);i=i.substring(0,i.length-l),o=a+o.substring(0,o.length-l),s=a+s}for(var c=i,u=o,f=s,h=e(i,o)+e(o,s);o.charAt(0)===s.charAt(0);){i+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var d=e(i,o)+e(o,s);d>=h&&(h=d,c=i,u=o,f=s)}t[n-1][1]!=c&&(c?t[n-1][1]=c:(t.splice(n-1,1),n--),t[n][1]=u,f?t[n+1][1]=f:(t.splice(n+1,1),n--))}n++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],i=0,o=null,s=0,l=!1,a=!1,c=!1,u=!1;s<t.length;)0==t[s][0]?(t[s][1].length<this.Diff_EditCost&&(c||u)?(n[i++]=s,l=c,a=u,o=t[s][1]):(i=0,o=null),c=u=!1):(-1==t[s][0]?u=!0:c=!0,o&&(l&&a&&c&&u||o.length<this.Diff_EditCost/2&&l+a+c+u==3)&&(t.splice(n[i-1],0,new r.Diff(-1,o)),t[n[i-1]+1][0]=1,i--,o=null,l&&a?(c=u=!0,i=0):(s=--i>0?n[i-1]:-1,c=u=!1),e=!0)),s++;e&&this.diff_cleanupMerge(t)},r.prototype.diff_cleanupMerge=function(t){t.push(new r.Diff(0,""));for(var e,n=0,i=0,o=0,s="",l="";n<t.length;)switch(t[n][0]){case 1:o++,l+=t[n][1],n++;break;case -1:i++,s+=t[n][1],n++;break;case 0:i+o>1?(0!==i&&0!==o&&(0!==(e=this.diff_commonPrefix(l,s))&&(n-i-o>0&&0==t[n-i-o-1][0]?t[n-i-o-1][1]+=l.substring(0,e):(t.splice(0,0,new r.Diff(0,l.substring(0,e))),n++),l=l.substring(e),s=s.substring(e)),0!==(e=this.diff_commonSuffix(l,s))&&(t[n][1]=l.substring(l.length-e)+t[n][1],l=l.substring(0,l.length-e),s=s.substring(0,s.length-e))),n-=i+o,t.splice(n,i+o),s.length&&(t.splice(n,0,new r.Diff(-1,s)),n++),l.length&&(t.splice(n,0,new r.Diff(1,l)),n++),n++):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,i=0,s="",l=""}""===t[t.length-1][1]&&t.pop();var a=!1;for(n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),a=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),a=!0)),n++;a&&this.diff_cleanupMerge(t)},r.prototype.diff_xIndex=function(t,e){var n,r=0,i=0,o=0,s=0;for(n=0;n<t.length&&(1!==t[n][0]&&(r+=t[n][1].length),-1!==t[n][0]&&(i+=t[n][1].length),!(r>e));n++)o=r,s=i;return t.length!=n&&-1===t[n][0]?s:s+(e-o)},r.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,r=/</g,i=/>/g,o=/\n/g,s=0;s<t.length;s++){var l=t[s][0],a=t[s][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(l){case 1:e[s]='<ins style="background:#e6ffe6;">'+a+"</ins>";break;case -1:e[s]='<del style="background:#ffe6e6;">'+a+"</del>";break;case 0:e[s]="<span>"+a+"</span>"}}return e.join("")},r.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},r.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},r.prototype.diff_levenshtein=function(t){for(var e=0,n=0,r=0,i=0;i<t.length;i++){var o=t[i][0],s=t[i][1];switch(o){case 1:n+=s.length;break;case -1:r+=s.length;break;case 0:e+=Math.max(n,r),n=0,r=0}}return e+Math.max(n,r)},r.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case -1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("	").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(t,e){for(var n=[],i=0,o=0,s=e.split(/\t/g),l=0;l<s.length;l++){var a=s[l].substring(1);switch(s[l].charAt(0)){case"+":try{n[i++]=new r.Diff(1,decodeURI(a))}catch(t){throw Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var c=parseInt(a,10);if(isNaN(c)||c<0)throw Error("Invalid number in diff_fromDelta: "+a);var u=t.substring(o,o+=c);"="==s[l].charAt(0)?n[i++]=new r.Diff(0,u):n[i++]=new r.Diff(-1,u);break;default:if(s[l])throw Error("Invalid diff operation in diff_fromDelta: "+s[l])}}if(o!=t.length)throw Error("Delta length ("+o+") does not equal source text length ("+t.length+").");return n},r.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw Error("Null input. (match_main)");return(n=Math.max(0,Math.min(n,t.length)),t==e)?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},r.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var r,i,o,s=this.match_alphabet_(e),l=this;function a(t,r){var i=t/e.length,o=Math.abs(n-r);return l.Match_Distance?i+o/l.Match_Distance:o?1:i}var c=this.Match_Threshold,u=t.indexOf(e,n);-1!=u&&(c=Math.min(a(0,u),c),-1!=(u=t.lastIndexOf(e,n+e.length))&&(c=Math.min(a(0,u),c)));var f=1<<e.length-1;u=-1;for(var h=e.length+t.length,d=0;d<e.length;d++){for(r=0,i=h;r<i;)a(d,n+i)<=c?r=i:h=i,i=Math.floor((h-r)/2+r);h=i;var p=Math.max(1,n-i+1),g=Math.min(n+i,t.length)+e.length,v=Array(g+2);v[g+1]=(1<<d)-1;for(var m=g;m>=p;m--){var y=s[t.charAt(m-1)];if(0===d?v[m]=(v[m+1]<<1|1)&y:v[m]=(v[m+1]<<1|1)&y|((o[m+1]|o[m])<<1|1)|o[m+1],v[m]&f){var x=a(d,m-1);if(x<=c)if(c=x,(u=m-1)>n)p=Math.max(1,2*n-u);else break}}if(a(d+1,n)>c)break;o=v}return u},r.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(var n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},r.prototype.patch_addContext_=function(t,e){if(0!=e.length){if(null===t.start2)throw Error("patch not initialized");for(var n=e.substring(t.start2,t.start2+t.length1),i=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=e.substring(t.start2-i,t.start2+t.length1+i);i+=this.Patch_Margin;var o=e.substring(t.start2-i,t.start2);o&&t.diffs.unshift(new r.Diff(0,o));var s=e.substring(t.start2+t.length1,t.start2+t.length1+i);s&&t.diffs.push(new r.Diff(0,s)),t.start1-=o.length,t.start2-=o.length,t.length1+=o.length+s.length,t.length2+=o.length+s.length}},r.prototype.patch_make=function(t,e,n){if("string"==typeof t&&"string"==typeof e&&void 0===n)i=t,(o=this.diff_main(i,e,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(t&&"object"==typeof t&&void 0===e&&void 0===n)o=t,i=this.diff_text1(o);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===n)i=t,o=e;else if("string"==typeof t&&"string"==typeof e&&n&&"object"==typeof n)i=t,o=n;else throw Error("Unknown call format to patch_make.");if(0===o.length)return[];for(var i,o,s=[],l=new r.patch_obj,a=0,c=0,u=0,f=i,h=i,d=0;d<o.length;d++){var p=o[d][0],g=o[d][1];switch(!a&&0!==p&&(l.start1=c,l.start2=u),p){case 1:l.diffs[a++]=o[d],l.length2+=g.length,h=h.substring(0,u)+g+h.substring(u);break;case -1:l.length1+=g.length,l.diffs[a++]=o[d],h=h.substring(0,u)+h.substring(u+g.length);break;case 0:g.length<=2*this.Patch_Margin&&a&&o.length!=d+1?(l.diffs[a++]=o[d],l.length1+=g.length,l.length2+=g.length):g.length>=2*this.Patch_Margin&&a&&(this.patch_addContext_(l,f),s.push(l),l=new r.patch_obj,a=0,f=h,c=u)}1!==p&&(c+=g.length),-1!==p&&(u+=g.length)}return a&&(this.patch_addContext_(l,f),s.push(l)),s},r.prototype.patch_deepCopy=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],o=new r.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=new r.Diff(i.diffs[s][0],i.diffs[s][1]);o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,e[n]=o}return e},r.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var r=0,i=[],o=0;o<t.length;o++){var s=t[o].start2+r,l=this.diff_text1(t[o].diffs),a=-1;if(l.length>this.Match_MaxBits?-1!=(u=this.match_main(e,l.substring(0,this.Match_MaxBits),s))&&(-1==(a=this.match_main(e,l.substring(l.length-this.Match_MaxBits),s+l.length-this.Match_MaxBits))||u>=a)&&(u=-1):u=this.match_main(e,l,s),-1==u)i[o]=!1,r-=t[o].length2-t[o].length1;else if(i[o]=!0,r=u-s,f=-1==a?e.substring(u,u+l.length):e.substring(u,a+this.Match_MaxBits),l==f)e=e.substring(0,u)+this.diff_text2(t[o].diffs)+e.substring(u+l.length);else{var c=this.diff_main(l,f,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(c)/l.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(c);for(var u,f,h,d=0,p=0;p<t[o].diffs.length;p++){var g=t[o].diffs[p];0!==g[0]&&(h=this.diff_xIndex(c,d)),1===g[0]?e=e.substring(0,u+h)+g[1]+e.substring(u+h):-1===g[0]&&(e=e.substring(0,u+h)+e.substring(u+this.diff_xIndex(c,d+g[1].length))),-1!==g[0]&&(d+=g[1].length)}}}}return[e=e.substring(n.length,e.length-n.length),i]},r.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",i=1;i<=e;i++)n+=String.fromCharCode(i);for(var i=0;i<t.length;i++)t[i].start1+=e,t[i].start2+=e;var o=t[0],s=o.diffs;if(0==s.length||0!=s[0][0])s.unshift(new r.Diff(0,n)),o.start1-=e,o.start2-=e,o.length1+=e,o.length2+=e;else if(e>s[0][1].length){var l=e-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],o.start1-=l,o.start2-=l,o.length1+=l,o.length2+=l}if(0==(s=(o=t[t.length-1]).diffs).length||0!=s[s.length-1][0])s.push(new r.Diff(0,n)),o.length1+=e,o.length2+=e;else if(e>s[s.length-1][1].length){var l=e-s[s.length-1][1].length;s[s.length-1][1]+=n.substring(0,l),o.length1+=l,o.length2+=l}return n},r.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,n=0;n<t.length;n++)if(!(t[n].length1<=e)){var i=t[n];t.splice(n--,1);for(var o=i.start1,s=i.start2,l="";0!==i.diffs.length;){var a=new r.patch_obj,c=!0;for(a.start1=o-l.length,a.start2=s-l.length,""!==l&&(a.length1=a.length2=l.length,a.diffs.push(new r.Diff(0,l)));0!==i.diffs.length&&a.length1<e-this.Patch_Margin;){var u=i.diffs[0][0],f=i.diffs[0][1];1===u?(a.length2+=f.length,s+=f.length,a.diffs.push(i.diffs.shift()),c=!1):-1===u&&1==a.diffs.length&&0==a.diffs[0][0]&&f.length>2*e?(a.length1+=f.length,o+=f.length,c=!1,a.diffs.push(new r.Diff(u,f)),i.diffs.shift()):(f=f.substring(0,e-a.length1-this.Patch_Margin),a.length1+=f.length,o+=f.length,0===u?(a.length2+=f.length,s+=f.length):c=!1,a.diffs.push(new r.Diff(u,f)),f==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(f.length))}l=(l=this.diff_text2(a.diffs)).substring(l.length-this.Patch_Margin);var h=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==h&&(a.length1+=h.length,a.length2+=h.length,0!==a.diffs.length&&0===a.diffs[a.diffs.length-1][0]?a.diffs[a.diffs.length-1][1]+=h:a.diffs.push(new r.Diff(0,h))),c||t.splice(++n,0,a)}}},r.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},r.prototype.patch_fromText=function(t){var e=[];if(!t)return e;for(var n=t.split("\n"),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var s=n[i].match(o);if(!s)throw Error("Invalid patch string: "+n[i]);var l=new r.patch_obj;for(e.push(l),l.start1=parseInt(s[1],10),""===s[2]?(l.start1--,l.length1=1):"0"==s[2]?l.length1=0:(l.start1--,l.length1=parseInt(s[2],10)),l.start2=parseInt(s[3],10),""===s[4]?(l.start2--,l.length2=1):"0"==s[4]?l.length2=0:(l.start2--,l.length2=parseInt(s[4],10)),i++;i<n.length;){var a=n[i].charAt(0);try{var c=decodeURI(n[i].substring(1))}catch(t){throw Error("Illegal escape in patch_fromText: "+c)}if("-"==a)l.diffs.push(new r.Diff(-1,c));else if("+"==a)l.diffs.push(new r.Diff(1,c));else if(" "==a)l.diffs.push(new r.Diff(0,c));else if("@"==a)break;else if(""===a);else throw Error('Invalid patch mode "'+a+'" in: '+c);i++}}return e},r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},r.patch_obj.prototype.toString=function(){t=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1;for(var t,e,n=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2,r=["@@ -"+t+" +"+n+" @@\n"],i=0;i<this.diffs.length;i++){switch(this.diffs[i][0]){case 1:e="+";break;case -1:e="-";break;case 0:e=" "}r[i+1]=e+encodeURI(this.diffs[i][1])+"\n"}return r.join("").replace(/%20/g," ")},ed.exports=r,ed.exports.diff_match_patch=r,ed.exports.DIFF_DELETE=-1,ed.exports.DIFF_INSERT=1,ed.exports.DIFF_EQUAL=0;var ep=(i=ed.exports)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")},em=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ey=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);if(null===o)return;return t(o,n,r)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(r)},ex=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},eb=function(t,e){if(!t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:t},ew=function(){function t(e){ev(this,t),this.selfOptions=e||{},this.pipes={}}return em(t,[{key:"options",value:function(t){return t&&(this.selfOptions=t),this.selfOptions}},{key:"pipe",value:function(t,e){var n=e;if("string"==typeof t)if(void 0===n)return this.pipes[t];else this.pipes[t]=n;if(t&&t.name){if((n=t).processor===this)return n;this.pipes[n.name]=n}return n.processor=this,n}},{key:"process",value:function(t,e){var n=t;n.options=this.options();for(var r=e||t.pipe||"default",i=void 0,o=void 0;r;)void 0!==n.nextAfterChildren&&(n.next=n.nextAfterChildren,n.nextAfterChildren=null),"string"==typeof r&&(r=this.pipe(r)),r.process(n),o=n,i=r,r=null,n&&n.next&&(n=n.next,r=o.nextPipe||n.pipe||i);return n.hasResult?n.result:void 0}}]),t}(),e$=function(){function t(e){ev(this,t),this.name=e,this.filters=[]}return em(t,[{key:"process",value:function(t){if(!this.processor)throw Error("add this pipe to a processor before using it");for(var e=this.debug,n=this.filters.length,r=0;r<n;r++){var i=this.filters[r];if(e&&this.log("filter: "+i.filterName),i(t),(void 0===t?"undefined":eg(t))==="object"&&t.exiting){t.exiting=!1;break}}!t.next&&this.resultCheck&&this.resultCheck(t)}},{key:"log",value:function(t){console.log("[jsondiffpatch] "+this.name+" pipe, "+t)}},{key:"append",value:function(){var t;return(t=this.filters).push.apply(t,arguments),this}},{key:"prepend",value:function(){var t;return(t=this.filters).unshift.apply(t,arguments),this}},{key:"indexOf",value:function(t){if(!t)throw Error("a filter name is required");for(var e=0;e<this.filters.length;e++)if(this.filters[e].filterName===t)return e;throw Error("filter not found: "+t)}},{key:"list",value:function(){return this.filters.map(function(t){return t.filterName})}},{key:"after",value:function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw Error("a filter is required");return n.unshift(e+1,0),Array.prototype.splice.apply(this.filters,n),this}},{key:"before",value:function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw Error("a filter is required");return n.unshift(e,0),Array.prototype.splice.apply(this.filters,n),this}},{key:"replace",value:function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw Error("a filter is required");return n.unshift(e,1),Array.prototype.splice.apply(this.filters,n),this}},{key:"remove",value:function(t){var e=this.indexOf(t);return this.filters.splice(e,1),this}},{key:"clear",value:function(){return this.filters.length=0,this}},{key:"shouldHaveResult",value:function(t){if(!1===t){this.resultCheck=null;return}if(!this.resultCheck){var e=this;return this.resultCheck=function(t){if(!t.hasResult){console.log(t);var n=Error(e.name+" failed");throw n.noResult=!0,n}},this}}}]),t}(),e_=function(){function t(){ev(this,t)}return em(t,[{key:"setResult",value:function(t){return this.result=t,this.hasResult=!0,this}},{key:"exit",value:function(){return this.exiting=!0,this}},{key:"switchTo",value:function(t,e){return"string"==typeof t||t instanceof e$?this.nextPipe=t:(this.next=t,e&&(this.nextPipe=e)),this}},{key:"push",value:function(t,e){return t.parent=this,void 0!==e&&(t.childName=e),t.root=this.root||this,t.options=t.options||this.options,this.children?(this.children[this.children.length-1].next=t,this.children.push(t)):(this.children=[t],this.nextAfterChildren=this.next||null,this.next=t),t.next=this,this}}]),t}(),ek="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array};function ej(t){if((void 0===t?"undefined":eg(t))!=="object")return t;if(null===t)return null;if(ek(t))return t.map(ej);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var e;return new RegExp((e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString()))[1],e[2])}var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=ej(t[r]));return n}var eC=function(t){function e(t,n){ev(this,e);var r=eb(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.left=t,r.right=n,r.pipe="diff",r}return ex(e,t),em(e,[{key:"setResult",value:function(t){if(this.options.cloneDiffValues&&(void 0===t?"undefined":eg(t))==="object"){var e="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:ej;"object"===eg(t[0])&&(t[0]=e(t[0])),"object"===eg(t[1])&&(t[1]=e(t[1]))}return e_.prototype.setResult.apply(this,arguments)}}]),e}(e_),eS=function(t){function e(t,n){ev(this,e);var r=eb(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.left=t,r.delta=n,r.pipe="patch",r}return ex(e,t),e}(e_),eE=function(t){function e(t){ev(this,e);var n=eb(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.delta=t,n.pipe="reverse",n}return ex(e,t),e}(e_),eO="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},eT=function(t){if(t.left===t.right)return void t.setResult(void 0).exit();if(void 0===t.left){if("function"==typeof t.right)throw Error("functions are not supported");t.setResult([t.right]).exit();return}if(void 0===t.right)return void t.setResult([t.left,0,0]).exit();if("function"==typeof t.left||"function"==typeof t.right)throw Error("functions are not supported");return(t.leftType=null===t.left?"null":eg(t.left),t.rightType=null===t.right?"null":eg(t.right),t.leftType!==t.rightType||"boolean"===t.leftType||"number"===t.leftType||("object"===t.leftType&&(t.leftIsArray=eO(t.left)),"object"===t.rightType&&(t.rightIsArray=eO(t.right)),t.leftIsArray!==t.rightIsArray))?void t.setResult([t.left,t.right]).exit():void(t.left instanceof RegExp&&(t.right instanceof RegExp?t.setResult([t.left.toString(),t.right.toString()]).exit():t.setResult([t.left,t.right]).exit()))};eT.filterName="trivial";var eA=function(t){if(void 0===t.delta)return void t.setResult(t.left).exit();if(t.nested=!eO(t.delta),!t.nested){if(1===t.delta.length)return void t.setResult(t.delta[0]).exit();if(2===t.delta.length){if(t.left instanceof RegExp){var e=/^\/(.*)\/([gimyu]+)$/.exec(t.delta[1]);if(e)return void t.setResult(new RegExp(e[1],e[2])).exit()}t.setResult(t.delta[1]).exit();return}3===t.delta.length&&0===t.delta[2]&&t.setResult(void 0).exit()}};eA.filterName="trivial";var eN=function(t){if(void 0===t.delta)return void t.setResult(t.delta).exit();if(t.nested=!eO(t.delta),!t.nested){if(1===t.delta.length)return void t.setResult([t.delta[0],0,0]).exit();if(2===t.delta.length)return void t.setResult([t.delta[1],t.delta[0]]).exit();3===t.delta.length&&0===t.delta[2]&&t.setResult([t.delta[0]]).exit()}};function eD(t){if(t&&t.children){for(var e=t.children.length,n=void 0,r=t.result,i=0;i<e;i++)void 0!==(n=t.children[i]).result&&((r=r||{})[n.childName]=n.result);r&&t.leftIsArray&&(r._t="a"),t.setResult(r).exit()}}function eq(t){if(!t.leftIsArray&&"object"===t.leftType){var e=void 0,n=void 0,r=t.options.propertyFilter;for(e in t.left)Object.prototype.hasOwnProperty.call(t.left,e)&&(!r||r(e,t))&&(n=new eC(t.left[e],t.right[e]),t.push(n,e));for(e in t.right)Object.prototype.hasOwnProperty.call(t.right,e)&&(!r||r(e,t))&&void 0===t.left[e]&&(n=new eC(void 0,t.right[e]),t.push(n,e));if(!t.children||0===t.children.length)return void t.setResult(void 0).exit();t.exit()}}eN.filterName="trivial",eD.filterName="collectChildren",eq.filterName="objects";var eM=function(t){if(t.nested&&!t.delta._t){var e=void 0,n=void 0;for(e in t.delta)n=new eS(t.left[e],t.delta[e]),t.push(n,e);t.exit()}};eM.filterName="objects";var ez=function(t){if(t&&t.children&&!t.delta._t){for(var e=t.children.length,n=void 0,r=0;r<e;r++)n=t.children[r],Object.prototype.hasOwnProperty.call(t.left,n.childName)&&void 0===n.result?delete t.left[n.childName]:t.left[n.childName]!==n.result&&(t.left[n.childName]=n.result);t.setResult(t.left).exit()}};ez.filterName="collectChildren";var eR=function(t){if(t.nested&&!t.delta._t){var e=void 0,n=void 0;for(e in t.delta)n=new eE(t.delta[e]),t.push(n,e);t.exit()}};function eI(t){if(t&&t.children&&!t.delta._t){for(var e=t.children.length,n=void 0,r={},i=0;i<e;i++)r[(n=t.children[i]).childName]!==n.result&&(r[n.childName]=n.result);t.setResult(r).exit()}}eR.filterName="objects",eI.filterName="collectChildren";var eP=function(t,e,n,r){return t[n]===e[r]},eB=function(t,e,n,r){var i=t.length,o=e.length,s=void 0,l=void 0,a=[i+1];for(s=0;s<i+1;s++)for(l=0,a[s]=[o+1];l<o+1;l++)a[s][l]=0;for(s=1,a.match=n;s<i+1;s++)for(l=1;l<o+1;l++)n(t,e,s-1,l-1,r)?a[s][l]=a[s-1][l-1]+1:a[s][l]=Math.max(a[s-1][l],a[s][l-1]);return a},eF=function(t,e,n,r){for(var i=e.length,o=n.length,s={sequence:[],indices1:[],indices2:[]};0!==i&&0!==o;)t.match(e,n,i-1,o-1,r)?(s.sequence.unshift(e[i-1]),s.indices1.unshift(i-1),s.indices2.unshift(o-1),--i,--o):t[i][o-1]>t[i-1][o]?--o:--i;return s},eL=function(t,e,n,r){var i=r||{},o=eF(eB(t,e,n||eP,i),t,e,i);return"string"==typeof t&&"string"==typeof e&&(o.sequence=o.sequence.join("")),o},eU="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},eJ="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]===e)return r;return -1};function eH(t,e,n,r,i){var o=t[n],s=e[r];if(o===s)return!0;if((void 0===o?"undefined":eg(o))!=="object"||(void 0===s?"undefined":eg(s))!=="object")return!1;var l=i.objectHash;if(!l)return i.matchByPosition&&n===r;var a=void 0,c=void 0;return"number"==typeof n?(i.hashCache1=i.hashCache1||[],void 0===(a=i.hashCache1[n])&&(i.hashCache1[n]=a=l(o,n))):a=l(o),void 0!==a&&("number"==typeof r?(i.hashCache2=i.hashCache2||[],void 0===(c=i.hashCache2[r])&&(i.hashCache2[r]=c=l(s,r))):c=l(s),void 0!==c&&a===c)}var eV=function(t){if(t.leftIsArray){var e={objectHash:t.options&&t.options.objectHash,matchByPosition:t.options&&t.options.matchByPosition},n=0,r=0,i=void 0,o=void 0,s=void 0,l=t.left,a=t.right,c=l.length,u=a.length,f=void 0;for(c>0&&u>0&&!e.objectHash&&"boolean"!=typeof e.matchByPosition&&(e.matchByPosition=!function(t,e,n,r){for(var i=0;i<n;i++)for(var o=t[i],s=0;s<r;s++){var l=e[s];if(i!==s&&o===l)return!0}}(l,a,c,u));n<c&&n<u&&eH(l,a,n,n,e);)i=n,f=new eC(t.left[i],t.right[i]),t.push(f,i),n++;for(;r+n<c&&r+n<u&&eH(l,a,c-1-r,u-1-r,e);)o=c-1-r,s=u-1-r,f=new eC(t.left[o],t.right[s]),t.push(f,s),r++;var h=void 0;if(n+r===c){if(c===u)return void t.setResult(void 0).exit();for(h=h||{_t:"a"},i=n;i<u-r;i++)h[i]=[a[i]];return void t.setResult(h).exit()}if(n+r===u){for(h=h||{_t:"a"},i=n;i<c-r;i++)h["_"+i]=[l[i],0,0];t.setResult(h).exit();return}delete e.hashCache1,delete e.hashCache2;var d=l.slice(n,c-r),p=a.slice(n,u-r),g=eL(d,p,eH,e),v=[];for(h=h||{_t:"a"},i=n;i<c-r;i++)0>eJ(g.indices1,i-n)&&(h["_"+i]=[l[i],0,0],v.push(i));var m=!0;t.options&&t.options.arrays&&!1===t.options.arrays.detectMove&&(m=!1);var y=!1;t.options&&t.options.arrays&&t.options.arrays.includeValueOnMove&&(y=!0);var x=v.length;for(i=n;i<u-r;i++){var b=eJ(g.indices2,i-n);if(b<0){var w=!1;if(m&&x>0){for(var $=0;$<x;$++)if(eH(d,p,(o=v[$])-n,i-n,e)){h["_"+o].splice(1,2,i,3),y||(h["_"+o][0]=""),s=i,f=new eC(t.left[o],t.right[s]),t.push(f,s),v.splice($,1),w=!0;break}}w||(h[i]=[a[i]])}else o=g.indices1[b]+n,s=g.indices2[b]+n,f=new eC(t.left[o],t.right[s]),t.push(f,s)}t.setResult(h).exit()}};eV.filterName="arrays";var eG=function(t,e){return t-e},eK=function(t){if(t.nested&&"a"===t.delta._t){var e,n=void 0,r=void 0,i=t.delta,o=t.left,s=[],l=[],a=[];for(n in i)if("_t"!==n)if("_"===n[0])if(0===i[n][2]||3===i[n][2])s.push(parseInt(n.slice(1),10));else throw Error("only removal or move can be applied at original array indices, invalid diff type: "+i[n][2]);else 1===i[n].length?l.push({index:parseInt(n,10),value:i[n][0]}):a.push({index:parseInt(n,10),delta:i[n]});for(n=(s=s.sort(eG)).length-1;n>=0;n--){var c=i["_"+(r=s[n])],u=o.splice(r,1)[0];3===c[2]&&l.push({index:c[1],value:u})}var f=(l=l.sort((e="index",function(t,n){return t[e]-n[e]}))).length;for(n=0;n<f;n++){var h=l[n];o.splice(h.index,0,h.value)}var d=a.length,p=void 0;if(d>0)for(n=0;n<d;n++){var g=a[n];p=new eS(t.left[g.index],g.delta),t.push(p,g.index)}if(!t.children)return void t.setResult(t.left).exit();t.exit()}};eK.filterName="arrays";var eW=function(t){if(t&&t.children&&"a"===t.delta._t){for(var e=t.children.length,n=void 0,r=0;r<e;r++)n=t.children[r],t.left[n.childName]=n.result;t.setResult(t.left).exit()}};eW.filterName="arraysCollectChildren";var eY=function(t){if(!t.nested){3===t.delta[2]&&(t.newName="_"+t.delta[1],t.setResult([t.delta[0],parseInt(t.childName.substr(1),10),3]).exit());return}if("a"===t.delta._t){var e=void 0,n=void 0;for(e in t.delta)"_t"!==e&&(n=new eE(t.delta[e]),t.push(n,e));t.exit()}};eY.filterName="arrays";var eQ=function(t,e,n){if("string"==typeof e&&"_"===e[0])return parseInt(e.substr(1),10);if(eU(n)&&0===n[2])return"_"+e;var r=+e;for(var i in t){var o=t[i];if(eU(o))if(3===o[2]){var s=parseInt(i.substr(1),10),l=o[1];if(l===+e)return s;s<=r&&l>r?r++:s>=r&&l<r&&r--}else 0===o[2]?parseInt(i.substr(1),10)<=r&&r++:1===o.length&&i<=r&&r--}return r};function eZ(t){if(t&&t.children&&"a"===t.delta._t){for(var e=t.children.length,n=void 0,r={_t:"a"},i=0;i<e;i++){var o=(n=t.children[i]).newName;void 0===o&&(o=eQ(t.delta,n.childName,n.result)),r[o]!==n.result&&(r[o]=n.result)}t.setResult(r).exit()}}eZ.filterName="arraysCollectChildren";var eX=function(t){t.left instanceof Date?(t.right instanceof Date?t.left.getTime()!==t.right.getTime()?t.setResult([t.left,t.right]):t.setResult(void 0):t.setResult([t.left,t.right]),t.exit()):t.right instanceof Date&&t.setResult([t.left,t.right]).exit()};eX.filterName="dates";var e1=null,e0=function(t){if(!e1){var e=void 0;if("undefined"!=typeof diff_match_patch)e="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if(ep)try{e=ep&&new ep}catch(t){e=null}if(!e){if(!t)return null;var n=Error("text diff_match_patch library not found");throw n.diff_match_patch_not_found=!0,n}e1={diff:function(t,n){return e.patch_toText(e.patch_make(t,n))},patch:function(t,n){for(var r=e.patch_apply(e.patch_fromText(n),t),i=0;i<r[1].length;i++)r[1][i]||(Error("text patch failed").textPatchFailed=!0);return r[0]}}}return e1},e2=function(t){if("string"===t.leftType){var e=t.options&&t.options.textDiff&&t.options.textDiff.minLength||60;if(t.left.length<e||t.right.length<e)return void t.setResult([t.left,t.right]).exit();var n=e0();if(!n)return void t.setResult([t.left,t.right]).exit();var r=n.diff;t.setResult([r(t.left,t.right),0,2]).exit()}};e2.filterName="texts";var e3=function(t){if(!t.nested&&2===t.delta[2]){var e=e0(!0).patch;t.setResult(e(t.left,t.delta[0])).exit()}};e3.filterName="texts";var e5=function(t){var e=void 0,n=void 0,r=void 0,i=void 0,o=void 0,s=null,l=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(e=0,n=(r=t.split("\n")).length;e<n;e++){var a=(i=r[e]).slice(0,1);"@"===a?(s=l.exec(i),r[e]="@@ -"+s[3]+","+s[4]+" +"+s[1]+","+s[2]+" @@"):"+"===a?(r[e]="-"+r[e].slice(1),"+"===r[e-1].slice(0,1)&&(o=r[e],r[e]=r[e-1],r[e-1]=o)):"-"===a&&(r[e]="+"+r[e].slice(1))}return r.join("\n")},e6=function(t){t.nested||2===t.delta[2]&&t.setResult([e5(t.delta[0]),0,2]).exit()};e6.filterName="texts";var e4=function(){function t(e){ev(this,t),this.processor=new ew(e),this.processor.pipe(new e$("diff").append(eD,eT,eX,e2,eq,eV).shouldHaveResult()),this.processor.pipe(new e$("patch").append(ez,eW,eA,e3,eM,eK).shouldHaveResult()),this.processor.pipe(new e$("reverse").append(eI,eZ,eN,e6,eR,eY).shouldHaveResult())}return em(t,[{key:"options",value:function(){var t;return(t=this.processor).options.apply(t,arguments)}},{key:"diff",value:function(t,e){return this.processor.process(new eC(t,e))}},{key:"patch",value:function(t,e){return this.processor.process(new eS(t,e))}},{key:"reverse",value:function(t){return this.processor.process(new eE(t))}},{key:"unpatch",value:function(t,e){return this.patch(t,this.reverse(e))}},{key:"clone",value:function(t){return ej(t)}}]),t}(),e9="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},e7="function"==typeof Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},e8=function(t){return"_t"===t?-1:"_"===t.substr(0,1)?parseInt(t.slice(1),10):parseInt(t,10)+.1},nt=function(t,e){return e8(t)-e8(e)},ne=function(){function t(){ev(this,t)}return em(t,[{key:"format",value:function(t,e){var n={};return this.prepareContext(n),this.recurse(n,t,e),this.finalize(n)}},{key:"prepareContext",value:function(t){t.buffer=[],t.out=function(){var t;(t=this.buffer).push.apply(t,arguments)}}},{key:"typeFormattterNotFound",value:function(t,e){throw Error("cannot format delta type: "+e)}},{key:"typeFormattterErrorFormatter",value:function(t,e){return e.toString()}},{key:"finalize",value:function(t){var e=t.buffer;if(e9(e))return e.join("")}},{key:"recurse",value:function(t,e,n,r,i,o,s){var l=e&&o?o.value:n;if(void 0!==e||void 0!==r){var a=this.getDeltaType(e,o),c="node"===a?"a"===e._t?"array":"object":"";void 0!==r?this.nodeBegin(t,r,i,a,c,s):this.rootBegin(t,a,c);try{(this["format_"+a]||this.typeFormattterNotFound(t,a)).call(this,t,e,l,r,i,o)}catch(n){this.typeFormattterErrorFormatter(t,n,e,l,r,i,o),"undefined"!=typeof console&&console.error&&console.error(n.stack)}void 0!==r?this.nodeEnd(t,r,i,a,c,s):this.rootEnd(t,a,c)}}},{key:"formatDeltaChildren",value:function(t,e,n){var r=this;this.forEachDeltaKey(e,n,function(i,o,s,l){r.recurse(t,e[i],n?n[o]:void 0,i,o,s,l)})}},{key:"forEachDeltaKey",value:function(t,e,n){var r=e7(t),i="a"===t._t,o={},s=void 0;if(void 0!==e)for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&void 0===t[s]&&(!i||void 0===t["_"+s])&&r.push(s);for(s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var l=t[s];e9(l)&&3===l[2]&&(o[l[1].toString()]={key:s,value:e&&e[parseInt(s.substr(1))]},!1!==this.includeMoveDestinations&&void 0===e&&void 0===t[l[1]]&&r.push(l[1].toString()))}i?r.sort(nt):r.sort();for(var a=0,c=r.length;a<c;a++){var u=r[a];if(!i||"_t"!==u){var f=i?"number"==typeof u?u:parseInt("_"===u.substr(0,1)?u.slice(1):u,10):u,h=a===c-1;n(u,f,o[f],h)}}}},{key:"getDeltaType",value:function(t,e){if(void 0===t)return void 0!==e?"movedestination":"unchanged";if(e9(t)){if(1===t.length)return"added";if(2===t.length)return"modified";if(3===t.length&&0===t[2])return"deleted";if(3===t.length&&2===t[2])return"textdiff";if(3===t.length&&3===t[2])return"moved"}else if((void 0===t?"undefined":eg(t))==="object")return"node";return"unknown"}},{key:"parseTextDiff",value:function(t){for(var e=[],n=t.split("\n@@ "),r=0,i=n.length;r<i;r++){var o=n[r],s={pieces:[]},l=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(o).slice(1);s.location={line:l[0],chr:l[1]};for(var a=o.split("\n").slice(1),c=0,u=a.length;c<u;c++){var f=a[c];if(f.length){var h={type:"context"};"+"===f.substr(0,1)?h.type="added":"-"===f.substr(0,1)&&(h.type="deleted"),h.text=f.slice(1),s.pieces.push(h)}}e.push(s)}return e}}]),t}();function nn(){return ev(this,nn),eb(this,(nn.__proto__||Object.getPrototypeOf(nn)).apply(this,arguments))}function nr(t){for(var e=t,n=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],r=0;r<n.length;r++)e=e.replace(n[r][0],n[r][1]);return e}ex(nn,ne),em(nn,[{key:"typeFormattterErrorFormatter",value:function(t,e){t.out('<pre class="jsondiffpatch-error">'+e+"</pre>")}},{key:"formatValue",value:function(t,e){t.out("<pre>"+nr(JSON.stringify(e,null,2))+"</pre>")}},{key:"formatTextDiffString",value:function(t,e){var n=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var r=0,i=n.length;r<i;r++){var o=n[r];t.out('<li><div class="jsondiffpatch-textdiff-location">'+('<span class="jsondiffpatch-textdiff-line-number">'+o.location.line+'</span><span class="jsondiffpatch-textdiff-char">')+o.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var s=o.pieces,l=0,a=s.length;l<a;l++){var c=s[l];t.out('<span class="jsondiffpatch-textdiff-'+c.type+'">'+nr(decodeURI(c.text))+"</span>")}t.out("</div></li>")}t.out("</ul>")}},{key:"rootBegin",value:function(t,e,n){t.out('<div class="jsondiffpatch-delta jsondiffpatch-'+e+(n?" jsondiffpatch-child-node-type-"+n:"")+'">')}},{key:"rootEnd",value:function(t){t.out("</div>"+(t.hasArrows?'<script type="text/javascript">setTimeout('+ni.toString()+",10);<\/script>":""))}},{key:"nodeBegin",value:function(t,e,n,r,i){t.out('<li class="jsondiffpatch-'+r+(i?" jsondiffpatch-child-node-type-"+i:"")+'" data-key="'+n+'"><div class="jsondiffpatch-property-name">'+n+"</div>")}},{key:"nodeEnd",value:function(t){t.out("</li>")}},{key:"format_unchanged",value:function(t,e,n){void 0!==n&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,n),t.out("</div>"))}},{key:"format_movedestination",value:function(t,e,n){void 0!==n&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,n),t.out("</div>"))}},{key:"format_node",value:function(t,e,n){var r="a"===e._t?"array":"object";t.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+r+'">'),this.formatDeltaChildren(t,e,n),t.out("</ul>")}},{key:"format_added",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")}},{key:"format_modified",value:function(t,e){t.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(t,e[1]),t.out("</div>")}},{key:"format_deleted",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")}},{key:"format_moved",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-moved-destination">'+e[1]+"</div>"),t.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">\n          <svg width="30" height="60" style="position: absolute; display: none;">\n          <defs>\n              <marker id="markerArrow" markerWidth="8" markerHeight="8"\n                 refx="2" refy="4"\n                     orient="auto" markerUnits="userSpaceOnUse">\n                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />\n              </marker>\n          </defs>\n          <path d="M30,0 Q-10,25 26,50"\n            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"\n          ></path>\n          </svg>\n      </div>'),t.hasArrows=!0}},{key:"format_textdiff",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(t,e[0]),t.out("</div>")}}]);var ni=function(t){var e=function(t){var e=t.textContent,n=t.innerText;return e||n},n=function(t,e){for(var n=t.children,r=0,i=n.length;r<i;r++)e(n[r],r)};!function(t,e,n){for(var r=t.querySelectorAll(e),i=0,o=r.length;i<o;i++)n(r[i])}(t||document,".jsondiffpatch-arrow",function(t){var r=t.parentNode,i=t.children,o=t.style,s=i[0],l=s.children[1];s.style.display="none";var a=e(r.querySelector(".jsondiffpatch-moved-destination")),c=r.parentNode,u=void 0;if(n(c,function(t){t.getAttribute("data-key")===a&&(u=t)}),u)try{var f=u.offsetTop-r.offsetTop;s.setAttribute("height",Math.abs(f)+6),o.top=-8+(f>0?0:f)+"px";var h=f>0?"M30,0 Q-10,"+Math.round(f/2)+" 26,"+(f-4):"M30,"+-f+" Q-10,"+Math.round(-f/2)+" 26,4";l.setAttribute("d",h),s.style.display=""}catch(t){}})},no=function(t){function e(){ev(this,e);var t=eb(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.includeMoveDestinations=!1,t}return ex(e,t),em(e,[{key:"prepareContext",value:function(t){ey(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.indent=function(t){this.indentLevel=(this.indentLevel||0)+(void 0===t?1:t),this.indentPad=Array(this.indentLevel+1).join("&nbsp;&nbsp;")},t.row=function(e,n){t.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),t.out(t.indentPad),t.out('</pre><pre style="display: inline-block">'),t.out(e),t.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),t.out(n),t.out("</div></td></tr>")}}},{key:"typeFormattterErrorFormatter",value:function(t,e){t.row("",'<pre class="jsondiffpatch-error">'+e+"</pre>")}},{key:"formatTextDiffString",value:function(t,e){var n=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var r=0,i=n.length;r<i;r++){var o=n[r];t.out('<li><div class="jsondiffpatch-textdiff-location">'+('<span class="jsondiffpatch-textdiff-line-number">'+o.location.line+'</span><span class="jsondiffpatch-textdiff-char">')+o.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var s=o.pieces,l=0,a=s.length;l<a;l++){var c=s[l];t.out('<span class="jsondiffpatch-textdiff-'+c.type+'">'+c.text+"</span>")}t.out("</div></li>")}t.out("</ul>")}},{key:"rootBegin",value:function(t,e,n){t.out('<table class="jsondiffpatch-annotated-delta">'),"node"===e&&(t.row("{"),t.indent()),"array"===n&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"rootEnd",value:function(t,e){"node"===e&&(t.indent(-1),t.row("}")),t.out("</table>")}},{key:"nodeBegin",value:function(t,e,n,r,i){t.row("&quot;"+e+"&quot;: {"),"node"===r&&t.indent(),"array"===i&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"nodeEnd",value:function(t,e,n,r,i,o){"node"===r&&t.indent(-1),t.row("}"+(o?"":","))}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(t,e,n){this.formatDeltaChildren(t,e,n)}}]),e}(ne),ns=function(t){return'<pre style="display:inline-block">&quot;'+t+"&quot;</pre>"},nl={added:function(t,e,n,r){var i=" <pre>([newValue])</pre>";return void 0===r?"new value"+i:"number"==typeof r?"insert at index "+r+i:"add property "+ns(r)+i},modified:function(t,e,n,r){var i=" <pre>([previousValue, newValue])</pre>";return void 0===r?"modify value"+i:"number"==typeof r?"modify at index "+r+i:"modify property "+ns(r)+i},deleted:function(t,e,n,r){var i=" <pre>([previousValue, 0, 0])</pre>";return void 0===r?"delete value"+i:"number"==typeof r?"remove index "+r+i:"delete property "+ns(r)+i},moved:function(t,e,n,r){return'move from <span title="(position to remove at original state)">index '+r+'</span> to <span title="(position to insert at final state)">index '+t[1]+"</span>"},textdiff:function(t,e,n,r){return"text diff"+(void 0===r?"":"number"==typeof r?" at index "+r:" at property "+ns(r))+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}},na=function(t,e){var n=this.getDeltaType(e),r=nl[n],i=r&&r.apply(r,Array.prototype.slice.call(arguments,1)),o=JSON.stringify(e,null,2);"textdiff"===n&&(o=o.split("\\n").join('\\n"+\n   "')),t.indent(),t.row(o,i),t.indent(-1)};no.prototype.format_added=na,no.prototype.format_modified=na,no.prototype.format_deleted=na,no.prototype.format_moved=na,no.prototype.format_textdiff=na;function nc(){ev(this,nc);var t=eb(this,(nc.__proto__||Object.getPrototypeOf(nc)).call(this));return t.includeMoveDestinations=!0,t}function nu(t){return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}}ex(nc,ne),em(nc,[{key:"prepareContext",value:function(t){ey(nc.prototype.__proto__||Object.getPrototypeOf(nc.prototype),"prepareContext",this).call(this,t),t.result=[],t.path=[],t.pushCurrentOp=function(t){var e=t.op,n=t.value,r={op:e,path:this.currentPath()};void 0!==n&&(r.value=n),this.result.push(r)},t.pushMoveOp=function(t){var e=this.currentPath();this.result.push({op:"move",from:e,path:this.toPath(t)})},t.currentPath=function(){return"/"+this.path.join("/")},t.toPath=function(t){var e=this.path.slice();return e[e.length-1]=t,"/"+e.join("/")}}},{key:"typeFormattterErrorFormatter",value:function(t,e){t.out("[ERROR] "+e)}},{key:"rootBegin",value:function(){}},{key:"rootEnd",value:function(){}},{key:"nodeBegin",value:function(t,e,n){t.path.push(n)}},{key:"nodeEnd",value:function(t){t.path.pop()}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(t,e,n){this.formatDeltaChildren(t,e,n)}},{key:"format_added",value:function(t,e){t.pushCurrentOp({op:"add",value:e[0]})}},{key:"format_modified",value:function(t,e){t.pushCurrentOp({op:"replace",value:e[1]})}},{key:"format_deleted",value:function(t){t.pushCurrentOp({op:"remove"})}},{key:"format_moved",value:function(t,e){var n=e[1];t.pushMoveOp(n)}},{key:"format_textdiff",value:function(){throw Error("Not implemented")}},{key:"format",value:function(t,e){var n={};return this.prepareContext(n),this.recurse(n,t,e),n.result}}]);var nf={added:nu("green"),deleted:nu("red"),movedestination:nu("gray"),moved:nu("yellow"),unchanged:nu("gray"),error:nu("white.bgRed"),textDiffLine:nu("gray")};function nh(){ev(this,nh);var t=eb(this,(nh.__proto__||Object.getPrototypeOf(nh)).call(this));return t.includeMoveDestinations=!1,t}ex(nh,ne),em(nh,[{key:"prepareContext",value:function(t){ey(nh.prototype.__proto__||Object.getPrototypeOf(nh.prototype),"prepareContext",this).call(this,t),t.indent=function(t){this.indentLevel=(this.indentLevel||0)+(void 0===t?1:t),this.indentPad=Array(this.indentLevel+1).join("  "),this.outLine()},t.outLine=function(){this.buffer.push("\n"+(this.indentPad||""))},t.out=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e.length;r<i;r++){var o=e[r].split("\n").join("\n"+(this.indentPad||""));this.color&&this.color[0]&&(o=this.color[0](o)),this.buffer.push(o)}},t.pushColor=function(t){this.color=this.color||[],this.color.unshift(t)},t.popColor=function(){this.color=this.color||[],this.color.shift()}}},{key:"typeFormattterErrorFormatter",value:function(t,e){t.pushColor(nf.error),t.out("[ERROR]"+e),t.popColor()}},{key:"formatValue",value:function(t,e){t.out(JSON.stringify(e,null,2))}},{key:"formatTextDiffString",value:function(t,e){var n=this.parseTextDiff(e);t.indent();for(var r=0,i=n.length;r<i;r++){var o=n[r];t.pushColor(nf.textDiffLine),t.out(o.location.line+","+o.location.chr+" "),t.popColor();for(var s=o.pieces,l=0,a=s.length;l<a;l++){var c=s[l];t.pushColor(nf[c.type]),t.out(c.text),t.popColor()}r<i-1&&t.outLine()}t.indent(-1)}},{key:"rootBegin",value:function(t,e,n){t.pushColor(nf[e]),"node"===e&&(t.out("array"===n?"[":"{"),t.indent())}},{key:"rootEnd",value:function(t,e,n){"node"===e&&(t.indent(-1),t.out("array"===n?"]":"}")),t.popColor()}},{key:"nodeBegin",value:function(t,e,n,r,i){t.pushColor(nf[r]),t.out(n+": "),"node"===r&&(t.out("array"===i?"[":"{"),t.indent())}},{key:"nodeEnd",value:function(t,e,n,r,i,o){"node"===r&&(t.indent(-1),t.out("array"===i?"]":"}"+(o?"":","))),o||t.outLine(),t.popColor()}},{key:"format_unchanged",value:function(t,e,n){void 0!==n&&this.formatValue(t,n)}},{key:"format_movedestination",value:function(t,e,n){void 0!==n&&this.formatValue(t,n)}},{key:"format_node",value:function(t,e,n){this.formatDeltaChildren(t,e,n)}},{key:"format_added",value:function(t,e){this.formatValue(t,e[0])}},{key:"format_modified",value:function(t,e){t.pushColor(nf.deleted),this.formatValue(t,e[0]),t.popColor(),t.out(" => "),t.pushColor(nf.added),this.formatValue(t,e[1]),t.popColor()}},{key:"format_deleted",value:function(t,e){this.formatValue(t,e[0])}},{key:"format_moved",value:function(t,e){t.out("==> "+e[1])}},{key:"format_textdiff",value:function(t,e){this.formatTextDiffString(t,e[0])}}]);var nd=new e4({arrays:{detectMove:!1,includeValueOnMove:!1},textDiff:{minLength:1}}),np=["docChanged","isGeneric","scrolledIntoView","selectionSet","storedMarksSet"];function ng(t){return{type:t.type,empty:t.empty,anchor:t.anchor,head:t.head,from:t.from,to:t.to}}function nv(t){return("00"+t).slice(-2)}var nm=/src=[\"|\']data:(.*);base64,(.*)[\"|\']/g,ny=/(&lt;\/?[\w\d\s="']+&gt;)/gim,nx=t0(new Map),nb=t0([]),nw=t0(void 0),n$=t0(0);function n_(){nx.set(new Map),nb.set([]),nw.set(void 0)}var nk=["jsonID","empty","anchor","from","head","to"],nj=["$anchor","$head","$cursor","$to","$from"],nC=["nodeAfter","nodeBefore","textOffset"];function nS(t){return nk.reduce((e,n)=>(e[n]=t[n],e),{})}function nE(t){return nk.concat(nj).reduce((e,n)=>{let r=t[n];if(r&&nj.includes(n)){let t={};nC.forEach(e=>{t[e]=r[e]}),r=Object.assign(Object.assign({},r),t)}return e[n]=r,e},{})}function nO(t,e,n,r,i){let o=i?[...i.path,t]:[];return{id:"[".concat(o.join(","),"]"),index:t,key:e,value:n,depth:r,collapsed:!0,type:nT(n),path:o,parentId:i?i.id:null,circularOfId:null,children:[]}}function nT(t){if(Array.isArray(t))return"array";if(t instanceof Map)return"map";if(t instanceof Set)return"set";if(t instanceof Date)return"date";if(null===t)return"null";else return typeof t}function nA(t,e,n,r,i,o,s,l,a,c,u){var f;if((null==(f=u.omitKeys)?void 0:f.includes(e))||u.maxDepth&&r>u.maxDepth)return null;let h=nO(t,e,n,r,o),d=l.get(h.id);if(i?h.collapsed=!1:d&&!c?h.collapsed=d.collapsed:u.shouldExpandNode&&(h.collapsed=!u.shouldExpandNode(h)),s.set(h.id,h),function(t,e,n,r){if(e){if(t.collapsed&&(null==e?void 0:e.collapsed))return!1;else if(r.stopCircularRecursion){if(r.isCircularNode)return r.isCircularNode(t,n);else if("object"===t.type||"array"===t.type){let e=n.get(t.value);if(e&&t.id!==e.id)return t.circularOfId=e.id,!1;n.set(t.value,t)}}}return!0}(h,o,a,u)){let t=u.mapChildren&&u.mapChildren(n,nT(n),h);h.children=(null!=t?t:function(t,e){switch(e){case"array":return t.map((t,e)=>[e.toString(),t]);case"map":return Array.from(t.entries()).map((t,e)=>{let[n,r]=t;return["[map entry ".concat(e,"]"),{"[key]":n,"[value]":r}]});case"set":return Array.from(t.values()).map((t,e)=>["[set entry ".concat(e,"]"),t]);case"object":return Object.entries(t);default:return[]}}(n,nT(n))).map((t,e)=>{let[n,i]=t;return nA(e,n,i,r+1,!1,h,s,l,a,c,u)}).filter(t=>null!==t)}return h}function nN(t){ti(t,"svelte-ngcjq5","ul.svelte-ngcjq5.svelte-ngcjq5{display:flex;flex-direction:column;height:max-content;list-style:none;padding:0;padding-left:var(--tree-view-left-indent);margin:0;width:100%}li.svelte-ngcjq5.svelte-ngcjq5{align-items:baseline;display:flex;height:max-content;line-height:var(--tree-view-line-height);list-style:none;width:100%}li.svelte-ngcjq5+li.svelte-ngcjq5{margin-top:0.25em}.empty-block.svelte-ngcjq5.svelte-ngcjq5{visibility:hidden}.node-key.svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base0D);margin-right:var(--tree-view-key-margin-right)}.node-key.has-children.svelte-ngcjq5.svelte-ngcjq5{cursor:pointer}.node-key.p-left.svelte-ngcjq5.svelte-ngcjq5{padding-left:1.1em}.node-value.svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base0B);margin-right:0.5em;word-break:break-all}.node-value[data-type=number].svelte-ngcjq5.svelte-ngcjq5,.node-value[data-type=boolean].svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base09)}.node-value[data-type=null].svelte-ngcjq5.svelte-ngcjq5,.node-value[data-type=undefined].svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base08)}.node-value.expanded.svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base03)}.node-value.has-children.svelte-ngcjq5.svelte-ngcjq5{cursor:pointer}.arrow-btn.svelte-ngcjq5.svelte-ngcjq5{background:transparent;border:0;color:var(--tree-view-base0D);cursor:pointer;margin-right:0.7em;padding:0;transition:all 150ms ease 0s;transform:rotateZ(90deg);transform-origin:47% 43%;position:relative;line-height:1.1em;font-size:0.75em}.arrow-btn.collapsed.svelte-ngcjq5.svelte-ngcjq5{transform:rotateZ(0deg)}.buttons.svelte-ngcjq5.svelte-ngcjq5{display:flex;flex-wrap:wrap}.log-copy-button.svelte-ngcjq5.svelte-ngcjq5{background:transparent;border:0;color:var(--tree-view-base0D);cursor:pointer;margin:0;padding:0 0.5em}.log-copy-button.svelte-ngcjq5.svelte-ngcjq5:hover{background:rgba(255, 162, 177, 0.4);border-radius:2px;color:var(--tree-view-base07)}")}function nD(t,e,n){let r=t.slice();return r[14]=e[n],r}function nq(t){let e,n,r,i,o;return{c(){e=ta("button"),n=tu(""),tp(e,"class",r=tn("arrow-btn ".concat(t[0].collapsed?"collapsed":""))+" svelte-ngcjq5")},m(r,s){to(r,e,s),tr(e,n),i||(o=td(e,"click",t[9]),i=!0)},p(t,n){1&n&&r!==(r=tn("arrow-btn ".concat(t[0].collapsed?"collapsed":""))+" svelte-ngcjq5")&&tp(e,"class",r)},d(t){t&&ts(e),i=!1,o()}}}function nM(t){let e,n=t[5].formatValue(t[0].value,t[0])+"";return{c(){e=tu(n)},m(t,n){to(t,e,n)},p(t,r){1&r&&n!==(n=t[5].formatValue(t[0].value,t[0])+"")&&tv(e,n)},i:B,o:B,d(t){t&&ts(e)}}}function nz(t){let e,n,r;var i=t[3];function o(t,e){return{props:{value:t[0].value,node:t[0],defaultFormatter:t[10]}}}return i&&(e=new i(o(t))),{c(){e&&tU(e.$$.fragment),n=th()},m(t,i){e&&tJ(e,t,i),to(t,n,i),r=!0},p(t,r){if(8&r&&i!==(i=t[3])){if(e){tz();let t=e;tP(t.$$.fragment,1,0,()=>{tH(t,1)}),tR()}i?(tU((e=new i(o(t))).$$.fragment),tI(e.$$.fragment,1),tJ(e,n.parentNode,n)):e=null}else if(i){let n={};1&r&&(n.value=t[0].value),1&r&&(n.node=t[0]),e.$set(n)}},i(t){r||(e&&tI(e.$$.fragment,t),r=!0)},o(t){e&&tP(e.$$.fragment,t),r=!1},d(t){t&&ts(n),e&&tH(e,t)}}}function nR(t){let e,n,r;return{c(){(e=ta("button")).textContent="log",tp(e,"class","log-copy-button svelte-ngcjq5")},m(i,o){to(i,e,o),n||(r=td(e,"click",t[7]),n=!0)},p:B,d(t){t&&ts(e),n=!1,r()}}}function nI(t){let e,n,r;return{c(){(e=ta("button")).textContent="copy",tp(e,"class","log-copy-button svelte-ngcjq5")},m(i,o){to(i,e,o),n||(r=td(e,"click",t[8]),n=!0)},p:B,d(t){t&&ts(e),n=!1,r()}}}function nP(t){let e,n,r,i=tB(t[0].children),o=[];for(let e=0;e<i.length;e+=1)o[e]=nB(nD(t,i,e));let s=t=>tP(o[t],1,1,()=>{o[t]=null});return{c(){e=ta("li"),n=ta("ul");for(let t=0;t<o.length;t+=1)o[t].c();tp(n,"class","svelte-ngcjq5"),tp(e,"class","row svelte-ngcjq5")},m(t,i){to(t,e,i),tr(e,n);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(n,null);r=!0},p(t,e){if(1&e){let r;for(r=0,i=tB(t[0].children);r<i.length;r+=1){let s=nD(t,i,r);o[r]?(o[r].p(s,e),tI(o[r],1)):(o[r]=nB(s),o[r].c(),tI(o[r],1),o[r].m(n,null))}for(tz(),r=i.length;r<o.length;r+=1)s(r);tR()}},i(t){if(!r){for(let t=0;t<i.length;t+=1)tI(o[t]);r=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)tP(o[t]);r=!1},d(t){t&&ts(e),tl(o,t)}}}function nB(t){let e,n;return e=new nU({props:{id:t[14].id}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let r={};1&n&&(r.id=t[14].id),e.$set(r)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function nF(t){let e,n,r,i,o,s,l,a,c,u,f,h,d,p,g,v,m,y,x,b=t[0].key+"",w=t[2]&&nq(t),$=[nz,nM],_=[];c=_[a=+!t[3]]=$[a](t);let k=t[1].showLogButton&&nR(t),j=t[1].showCopyButton&&nI(t),C=!t[0].collapsed&&t[2]&&nP(t);return{c(){e=ta("li"),w&&w.c(),n=tf(),r=ta("div"),i=tu(b),o=tu(":"),s=tf(),l=ta("div"),c.c(),f=tf(),h=ta("div"),k&&k.c(),d=tf(),j&&j.c(),g=tf(),C&&C.c(),v=th(),tp(r,"class","node-key svelte-ngcjq5"),tp(r,"role","presentation"),ty(r,"has-children",t[2]),ty(r,"p-left",!t[2]),tp(l,"class","node-value svelte-ngcjq5"),tp(l,"data-type",u=t[0].type),tp(l,"role","presentation"),ty(l,"expanded",!t[0].collapsed&&t[2]),ty(l,"has-children",t[2]),tp(h,"class","buttons svelte-ngcjq5"),tp(e,"class","row svelte-ngcjq5"),tp(e,"data-tree-id",p=t[0].id),ty(e,"collapsed",t[0].collapsed&&t[2])},m(c,u){to(c,e,u),w&&w.m(e,null),tr(e,n),tr(e,r),tr(r,i),tr(r,o),tr(e,s),tr(e,l),_[a].m(l,null),tr(e,f),tr(e,h),k&&k.m(h,null),tr(h,d),j&&j.m(h,null),to(c,g,u),C&&C.m(c,u),to(c,v,u),m=!0,y||(x=[td(r,"click",t[9]),td(l,"click",t[9])],y=!0)},p(t,o){let[s]=o;t[2]?w?w.p(t,s):((w=nq(t)).c(),w.m(e,n)):w&&(w.d(1),w=null),(!m||1&s)&&b!==(b=t[0].key+"")&&tv(i,b),(!m||4&s)&&ty(r,"has-children",t[2]),(!m||4&s)&&ty(r,"p-left",!t[2]);let f=a;(a=+!t[3])===f?_[a].p(t,s):(tz(),tP(_[f],1,1,()=>{_[f]=null}),tR(),(c=_[a])?c.p(t,s):(c=_[a]=$[a](t)).c(),tI(c,1),c.m(l,null)),(!m||1&s&&u!==(u=t[0].type))&&tp(l,"data-type",u),(!m||5&s)&&ty(l,"expanded",!t[0].collapsed&&t[2]),(!m||4&s)&&ty(l,"has-children",t[2]),t[1].showLogButton?k?k.p(t,s):((k=nR(t)).c(),k.m(h,d)):k&&(k.d(1),k=null),t[1].showCopyButton?j?j.p(t,s):((j=nI(t)).c(),j.m(h,null)):j&&(j.d(1),j=null),(!m||1&s&&p!==(p=t[0].id))&&tp(e,"data-tree-id",p),(!m||5&s)&&ty(e,"collapsed",t[0].collapsed&&t[2]),!t[0].collapsed&&t[2]?C?(C.p(t,s),5&s&&tI(C,1)):((C=nP(t)).c(),tI(C,1),C.m(v.parentNode,v)):C&&(tz(),tP(C,1,1,()=>{C=null}),tR())},i(t){m||(tI(c),tI(C),m=!0)},o(t){tP(c),tP(C),m=!1},d(t){t&&(ts(e),ts(g),ts(v)),w&&w.d(),_[a].d(),k&&k.d(),j&&j.d(),C&&C.d(t),y=!1,J(x)}}}function nL(t,e,n){let r,i,o,s,l,a,c=B;t.$$.on_destroy.push(()=>c());let{id:u}=e,{treeStore:f,propsStore:h,rootElementStore:d}=t_("svelte-tree-view");return W(t,d,t=>n(12,s=t)),f.treeMap.subscribe(t=>{let e=t.get(u);e&&l!==e&&n(0,l=e)}),t.$$set=t=>{"id"in t&&n(11,u=t.id)},t.$$.update=()=>{if(2048&t.$$.dirty){let t=f.getNode(u);if(!t)throw Error("[svelte-tree-view] TreeViewNode.svelte received undefined node from treeMapStore whereas it should be already unmounted!");n(0,l=t)}1&t.$$.dirty&&n(2,r=l&&l.children.length>0),2&t.$$.dirty&&n(3,o=a.valueComponent)},n(4,i=h.props),c(),c=G(i,t=>n(1,a=t)),[l,a,r,o,i,h,d,function(){console.info("%c [svelte-tree-view]: Property added to window._node","color: #b8e248"),console.log(l.value);try{"undefined"!=typeof window&&(window._node=l.value)}catch(t){console.error("Failed to set _node, window was undefined")}},function(){try{navigator.clipboard.writeText(JSON.stringify(l.value))}catch(t){console.error("Copying node to clipboard failed: ",t)}},function(){var t;r?f.toggleCollapse(l.id):l.circularOfId&&(f.expandAllNodesToNode(l.circularOfId),null==(t=null==s?void 0:s.querySelector('li[data-tree-id="'.concat(l.circularOfId,'"]')))||t.scrollIntoView())},function(t){return h.formatValue(t,l)},u]}var nU=class extends tG{constructor(t){super(),tV(this,t,nL,nF,V,{id:11},nN)}};function nJ(t){ti(t,"svelte-167awo5",":root{--tree-view-font-family:'Helvetica Neue', 'Calibri Light', Roboto, sans-serif;--tree-view-font-size:13px;--tree-view-left-indent:0.875em;--tree-view-line-height:1.1;--tree-view-key-margin-right:0.5em}ul.svelte-167awo5{background:var(--tree-view-base00);font-family:var(--tree-view-font-family);font-size:var(--tree-view-font-size);height:max-content;list-style:none;margin:0;padding:0;width:max-content}")}function nH(t,e,n){let r=t.slice();return r[18]=e[n],r}function nV(t){let e,n;return e=new nU({props:{id:t[18].id}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let r={};4&n&&(r.id=t[18].id),e.$set(r)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function nG(t){let e,n,r,i=tB(t[2].children),o=[];for(let e=0;e<i.length;e+=1)o[e]=nV(nH(t,i,e));let s=t=>tP(o[t],1,1,()=>{o[t]=null});return{c(){e=ta("ul");for(let t=0;t<o.length;t+=1)o[t].c();tp(e,"class",n=tn("".concat(t[3].class||""," svelte-tree-view"))+" svelte-167awo5")},m(n,i){to(n,e,i);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);t[13](e),r=!0},p(t,l){let[a]=l;if(4&a){let n;for(n=0,i=tB(t[2].children);n<i.length;n+=1){let r=nH(t,i,n);o[n]?(o[n].p(r,a),tI(o[n],1)):(o[n]=nV(r),o[n].c(),tI(o[n],1),o[n].m(e,null))}for(tz(),n=i.length;n<o.length;n+=1)s(n);tR()}(!r||8&a&&n!==(n=tn("".concat(t[3].class||""," svelte-tree-view"))+" svelte-167awo5"))&&tp(e,"class",n)},i(t){if(!r){for(let t=0;t<i.length;t+=1)tI(o[t]);r=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)tP(o[t]);r=!1},d(n){n&&ts(e),tl(o,n),t[13](null)}}}function nK(t,e,n){var r;let i,o,s=B;t.$$.on_destroy.push(()=>s());let{data:l,theme:a,showLogButton:c=!1,showCopyButton:u=!1,valueComponent:f,recursionOpts:h={},valueFormatter:d}=e,p=null,g={maxDepth:16,omitKeys:[],stopCircularRecursion:!1,shouldExpandNode:()=>!1},v={showLogButton:c,showCopyButton:u,valueComponent:f,recursionOpts:{...g,...h},valueFormatter:d},m=(t=>{let e=t0(t),n=function(t,e,n){let r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw Error("derived() expects stores as input, got a falsy value");let o=e.length<2;return{subscribe:t0(void 0,(t,n)=>{let s=!1,l=[],a=0,c=B,u=()=>{if(a)return;c();let i=e(r?l[0]:l,t,n);o?t(i):c=H(i)?i:B},f=i.map((t,e)=>G(t,t=>{l[e]=t,a&=~(1<<e),s&&u()},()=>{a|=1<<e}));return s=!0,u(),function(){J(f),c(),s=!1}}).subscribe}}(e,t=>t.recursionOpts);return{props:e,recursionOpts:n,setProps(t){e.set(t)},formatValue(t,n){let{valueFormatter:r}=K(e),i=r?r(t,n):void 0;if(i)return i;switch(n.type){case"array":return"".concat(n.circularOfId?"circular":""," [] ").concat(t.length," items");case"object":return"".concat(n.circularOfId?"circular":""," {} ").concat(Object.keys(t).length," keys");case"map":case"set":return"".concat(n.circularOfId?"circular":""," () ").concat(t.size," entries");case"date":return"".concat(t.toISOString());case"string":return'"'.concat(t,'"');case"boolean":return t?"true":"false";case"symbol":return String(t);default:return t}}}})(v),y=(()=>{let t=t0(null);return{set:t.set,subscribe:t.subscribe}})(),x=(t=>{let e=nO(0,"root",[],0,null),n=t0(e),r=t0(new Map),i=t0(new Map);return{tree:n,treeMap:r,defaultRootNode:e,init(t,o,s){t?n.set(t):n.set(e),r.set(o),i.set(s)},getNode:t=>K(r).get(t),toggleCollapse(e){let n=K(r).get(e);if(!n)return void console.warn("Attempted to collapse non-existent node: ".concat(e));let i=Object.assign(Object.assign({},n),{collapsed:!n.collapsed});r.update(t=>new Map(t.set(n.id,i)));let o=K(t.recursionOpts);o&&this.expandNodeChildren(i,o)},expandNodeChildren(t,e){let n=this.getNode((null==t?void 0:t.parentId)||"")||null;if(!n)throw Error("No parent in expandNodeChildren for node: "+t);let o=new Map(K(r)),s=K(r),l=K(i),a=nA(t.index,t.key,t.value,t.depth,!t.collapsed,n,o,s,l,!1,e);a&&(n.children=n.children.map(t=>t.id===a.id?a:t),o.set(a.id,a),o.set(n.id,n),r.set(o),i.set(l))},expandAllNodesToNode(t){let e=new Map(K(r));!function t(e,n){n&&(e.set(n.id,Object.assign(Object.assign({},n),{collapsed:!1})),n.parentId&&t(e,e.get(n.parentId)))}(e,e.get(t)),r.set(e)}}})(m);return t$("svelte-tree-view",{propsStore:m,rootElementStore:y,treeStore:x}),tb(()=>{y.set(p)}),t.$$set=t=>{n(3,e=F(F({},e),te(t))),"data"in t&&n(4,l=t.data),"theme"in t&&n(5,a=t.theme),"showLogButton"in t&&n(6,c=t.showLogButton),"showCopyButton"in t&&n(7,u=t.showCopyButton),"valueComponent"in t&&n(8,f=t.valueComponent),"recursionOpts"in t&&n(9,h=t.recursionOpts),"valueFormatter"in t&&n(10,d=t.valueFormatter)},t.$$.update=()=>{if(5568&t.$$.dirty&&n(12,v={showLogButton:c,showCopyButton:u,valueComponent:f,valueFormatter:d,recursionOpts:v.recursionOpts}),6672&t.$$.dirty){let t={...g,...h},e=(null===n(11,r=null==v?void 0:v.recursionOpts)||void 0===r?void 0:r.shouldExpandNode)!==t.shouldExpandNode,i=K(x.treeMap),{treeMap:o,tree:s,iteratedValues:a}=function(t,e,n,r){let i=new Map,o=new Map,s=nA(-1,"root",t,0,!0,null,i,e,o,r,n);return{treeMap:i,tree:s,iteratedValues:o}}(l,i,t,e);x.init(s,o,a),n(12,v.recursionOpts=t,v),m.setProps(v)}if(33&t.$$.dirty&&a&&p){let t;for(t in a){let e=a[t];p&&t.includes("base")&&e&&p.style.setProperty("--tree-view-".concat(t),e)}}},n(1,i=x.tree),s(),s=G(i,t=>n(2,o=t)),e=te(e),[p,i,o,e,l,a,c,u,f,h,d,r,v,function(t){tC[t?"unshift":"push"](()=>{n(0,p=t)})}]}var nW=class extends tG{constructor(t){super(),tV(this,t,nK,nG,V,{data:4,theme:5,showLogButton:6,showCopyButton:7,valueComponent:8,recursionOpts:9,valueFormatter:10},nJ)}};function nY(t){ti(t,"svelte-fdudio",".split-view.svelte-fdudio{border-top:1px solid rgba(255, 162, 177, 0.2);color:#fff;display:flex;height:calc(100% - var(--height-tabs-menu));width:100%}.split-view h2{color:rgb(187, 145, 163);font-family:var(--font-sans);font-size:var(--font-medium);font-weight:400;letter-spacing:1px;margin:0;text-transform:uppercase}.split-view > .left-panel{display:flex;flex-direction:column;flex-grow:1;overflow:scroll;padding:1em}.split-view > .right-panel{border-left:1px solid rgba(255, 162, 177, 0.2);display:flex;flex-direction:column;flex-grow:1;overflow:scroll;padding:1em}.split-view .hidden{visibility:hidden}")}var nQ=t=>({}),nZ=t=>({class:"right-panel"}),nX=t=>({}),n1=t=>({class:"left-panel"});function n0(t){let e,n,r,i=t[1].left,o=Y(i,t,t[0],n1),s=t[1].right,l=Y(s,t,t[0],nZ);return{c(){e=ta("section"),o&&o.c(),n=tf(),l&&l.c(),tp(e,"class","split-view svelte-fdudio")},m(t,i){to(t,e,i),o&&o.m(e,null),tr(e,n),l&&l.m(e,null),r=!0},p(t,e){let[n]=e;o&&o.p&&(!r||1&n)&&X(o,i,t,t[0],r?Z(i,t[0],n,nX):tt(t[0]),n1),l&&l.p&&(!r||1&n)&&X(l,s,t,t[0],r?Z(s,t[0],n,nQ):tt(t[0]),nZ)},i(t){r||(tI(o,t),tI(l,t),r=!0)},o(t){tP(o,t),tP(l,t),r=!1},d(t){t&&ts(e),o&&o.d(t),l&&l.d(t)}}}function n2(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}var n3=class extends tG{constructor(t){super(),tV(this,t,n2,n0,V,{},nY)}};function n5(t){ti(t,"svelte-it3v6s","button.svelte-it3v6s{background:transparent;border:0;border-radius:2px;color:#d3d3d9;cursor:pointer;font-family:var(--font-family);font-size:var(--font-small);font-weight:400;padding:6px 10px;text-transform:uppercase}button.svelte-it3v6s:hover{background:rgba(255, 162, 177, 0.4);color:#fff}button.selected.svelte-it3v6s{background:rgba(255, 162, 177, 0.4)}")}function n6(t){let e,n,r,i,o,s=t[3].default,l=Y(s,t,t[2],null);return{c(){e=ta("button"),l&&l.c(),tp(e,"class",n=tn("".concat(t[1].class||""))+" svelte-it3v6s"),ty(e,"selected",t[0])},m(n,s){to(n,e,s),l&&l.m(e,null),r=!0,i||(o=[td(e,"click",t[4]),td(e,"mouseover",t[5]),td(e,"mouseenter",t[6]),td(e,"mouseleave",t[7]),td(e,"focus",t[8])],i=!0)},p(t,i){let[o]=i;l&&l.p&&(!r||4&o)&&X(l,s,t,t[2],r?Z(s,t[2],o,null):tt(t[2]),null),(!r||2&o&&n!==(n=tn("".concat(t[1].class||""))+" svelte-it3v6s"))&&tp(e,"class",n),(!r||3&o)&&ty(e,"selected",t[0])},i(t){r||(tI(l,t),r=!0)},o(t){tP(l,t),r=!1},d(t){t&&ts(e),l&&l.d(t),i=!1,J(o)}}}function n4(t,e,n){let{$$slots:r={},$$scope:i}=e,{selected:o=!1}=e;return t.$$set=t=>{n(1,e=F(F({},e),te(t))),"selected"in t&&n(0,o=t.selected),"$$scope"in t&&n(2,i=t.$$scope)},e=te(e),[o,e,i,r,function(e){tk.call(this,t,e)},function(e){tk.call(this,t,e)},function(e){tk.call(this,t,e)},function(e){tk.call(this,t,e)},function(e){tk.call(this,t,e)}]}var n9=class extends tG{constructor(t){super(),tV(this,t,n4,n6,V,{selected:0},n5)}};function n7(t){ti(t,"svelte-8c7oqn",'@charset "UTF-8";.top-row.svelte-8c7oqn{align-items:center;display:flex;justify-content:space-between}.left-panel[slot=left].svelte-8c7oqn{overflow:scroll}.right-panel[slot=right].svelte-8c7oqn{border-left:1px solid rgba(255, 162, 177, 0.2);flex-grow:0;min-width:200px;width:200px}.split-view .selection-btn{height:24px;width:35px}.caret-icon.svelte-8c7oqn::before{content:""}.caret-icon.expanded.svelte-8c7oqn::before{content:""}.no-marks.svelte-8c7oqn{color:#85d9ef;margin:0.5em 0 1.25em 1em}.split-view .tree-view{margin:0.5em 0 1.25em 0}')}function n8(t){let e;return{c(){e=tu("log")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function rt(t){let e,n,r,i,o,s,l,a;return(o=new n9({props:{$$slots:{default:[n8]},$$scope:{ctx:t}}})).$on("click",t[6]),l=new nW({props:{class:"tree-view",data:t[0],showLogButton:!0,showCopyButton:!0,valueFormatter:rs}}),{c(){e=ta("div"),n=ta("div"),(r=ta("h2")).textContent="Current doc",i=tf(),tU(o.$$.fragment),s=tf(),tU(l.$$.fragment),tp(n,"class","top-row svelte-8c7oqn"),tp(e,"slot","left"),tp(e,"class","left-panel svelte-8c7oqn")},m(t,c){to(t,e,c),tr(e,n),tr(n,r),tr(n,i),tJ(o,n,null),tr(e,s),tJ(l,e,null),a=!0},p(t,e){let n={};1024&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);let r={};1&e&&(r.data=t[0]),l.$set(r)},i(t){a||(tI(o.$$.fragment,t),tI(l.$$.fragment,t),a=!0)},o(t){tP(o.$$.fragment,t),tP(l.$$.fragment,t),a=!1},d(t){t&&ts(e),tH(o),tH(l)}}}function re(t){let e;return{c(){tp(e=ta("span"),"class","caret-icon svelte-8c7oqn"),ty(e,"expanded",t[5])},m(t,n){to(t,e,n)},p(t,n){32&n&&ty(e,"expanded",t[5])},d(t){t&&ts(e)}}}function rn(t){let e,n;return e=new nW({props:{class:"tree-view",data:t[2]}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let r={};4&n&&(r.data=t[2]),e.$set(r)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function rr(t){let e;return{c(){(e=ta("div")).textContent="No active marks",tp(e,"class","no-marks svelte-8c7oqn")},m(t,n){to(t,e,n)},p:B,i:B,o:B,d(t){t&&ts(e)}}}function ri(t){let e,n,r,i,o,s,l,a,c,u,f,h,d,p,g,v,m,y,x;(o=new n9({props:{class:"selection-btn",$$slots:{default:[re]},$$scope:{ctx:t}}})).$on("click",t[7]),l=new nW({props:{class:"tree-view",data:t[1]}});let b=[rr,rn],w=[];function $(t,e){return+(0!==t[2].length)}return d=w[h=$(t)]=b[h](t),y=new nW({props:{class:"tree-view",data:{nodeSize:t[3],childCount:t[4]}}}),{c(){e=ta("div"),n=ta("div"),(r=ta("h2")).textContent="Selection",i=tf(),tU(o.$$.fragment),s=tf(),tU(l.$$.fragment),a=tf(),c=ta("div"),(u=ta("h2")).textContent="Active marks",f=tf(),d.c(),p=tf(),g=ta("div"),(v=ta("h2")).textContent="Document stats",m=tf(),tU(y.$$.fragment),tp(n,"class","top-row svelte-8c7oqn"),tp(e,"slot","right"),tp(e,"class","right-panel svelte-8c7oqn")},m(t,d){to(t,e,d),tr(e,n),tr(n,r),tr(n,i),tJ(o,n,null),tr(e,s),tJ(l,e,null),tr(e,a),tr(e,c),tr(c,u),tr(c,f),w[h].m(c,null),tr(e,p),tr(e,g),tr(g,v),tr(g,m),tJ(y,g,null),x=!0},p(t,e){let n={};1056&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);let r={};2&e&&(r.data=t[1]),l.$set(r);let i=h;(h=$(t))===i?w[h].p(t,e):(tz(),tP(w[i],1,1,()=>{w[i]=null}),tR(),(d=w[h])?d.p(t,e):(d=w[h]=b[h](t)).c(),tI(d,1),d.m(c,null));let s={};24&e&&(s.data={nodeSize:t[3],childCount:t[4]}),y.$set(s)},i(t){x||(tI(o.$$.fragment,t),tI(l.$$.fragment,t),tI(d),tI(y.$$.fragment,t),x=!0)},o(t){tP(o.$$.fragment,t),tP(l.$$.fragment,t),tP(d),tP(y.$$.fragment,t),x=!1},d(t){t&&ts(e),tH(o),tH(l),w[h].d(),tH(y)}}}function ro(t){let e,n;return e=new n3({props:{$$slots:{right:[ri],left:[rt]},$$scope:{ctx:t}}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let[r]=n,i={};1087&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function rs(t,e){if("object"===e.type&&t.type)return"{} ".concat(t.type)}function rl(t,e,n){let{view:r}=tW("editor-view"),i=r.state.doc.toJSON(),o=nS(r.state.selection),s=r.state,l=[],a=r.state.doc.nodeSize,c=r.state.doc.childCount,u=!1;return nw.subscribe(t=>{if(!t)return;let{state:e}=t;s=e,n(0,i=e.doc.toJSON()),n(1,o=u?nE(e.selection):nS(e.selection)),n(2,l=function(t){if(t.selection.empty){let e=t.selection.$from,n=t.storedMarks;return n?n.map(t=>t.type.name):e.marks().map(t=>t.type.name)}{let e=t.selection.$head,n=t.selection.$anchor,r=new Set;return e.marks().forEach(t=>r.add(t.type.name)),n.marks().forEach(t=>r.add(t.type.name)),Array.from(r)}}(e)),n(3,a=e.doc.nodeSize),n(4,c=e.doc.childCount)}),[i,o,l,a,c,u,function(){console.log(i),window._doc=i},function(){n(5,u=!u),u?n(1,o=nE(s.selection)):n(1,o=nS(s.selection))}]}var ra=class extends tG{constructor(t){super(),tV(this,t,rl,ro,V,{},n7)}};function rc(t,e,n){if("array"===e)return[]}function ru(t,e){if("array"===e&&0===t[1]&&0===t[2]||"array"===e&&"string"==typeof t[0]&&0===t[1]&&2===t[2]||"array"===e&&1===t.length&&"object"==typeof t[0])return[];if("object"!==e||"a"!==t._t)return;let n=[];for(let e in t)"_t"!==e&&("_"===e.charAt(0)?n.push([e.substr(1),t[e]]):n.push([e,t[e]]));return n}function rf(t){ti(t,"svelte-vbjxb8",'@charset "UTF-8";ul.svelte-vbjxb8.svelte-vbjxb8{color:#fff;list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-vbjxb8.svelte-vbjxb8{transition:background 0.7s ease}li.svelte-vbjxb8.svelte-vbjxb8:hover{background:rgba(255, 162, 177, 0.4);color:#fff}li.selected.svelte-vbjxb8.svelte-vbjxb8{background:rgba(255, 162, 177, 0.4)}li.svelte-vbjxb8+li.svelte-vbjxb8{border-top:1px solid rgb(96, 76, 104)}button.svelte-vbjxb8.svelte-vbjxb8{background:transparent;border:0;color:#d3d3d9;cursor:pointer;display:flex;font-family:monospace;font-size:var(--font-medium);justify-content:space-between;padding:6px 18px;text-transform:uppercase;width:100%}button.p-left.svelte-vbjxb8.svelte-vbjxb8{margin-left:1em}.caret-icon.svelte-vbjxb8.svelte-vbjxb8::before{content:""}.caret-icon.expanded.svelte-vbjxb8.svelte-vbjxb8::before{content:""}')}function rh(t,e,n){let r=t.slice();return r[6]=e[n],r[8]=n,r}function rd(t,e,n){let r=t.slice();return r[9]=e[n],r}function rp(t){let e,n,r,i=t[6].entries.length+"";return{c(){e=tu("["),n=tu(i),r=tu("]")},m(t,i){to(t,e,i),to(t,n,i),to(t,r,i)},p(t,e){1&e&&i!==(i=t[6].entries.length+"")&&tv(n,i)},d(t){t&&(ts(e),ts(n),ts(r))}}}function rg(t){let e,n,r=t[6].topEntry.trs.length-1+"";return{c(){e=tu("+"),n=tu(r)},m(t,r){to(t,e,r),to(t,n,r)},p(t,e){1&e&&r!==(r=t[6].topEntry.trs.length-1+"")&&tv(n,r)},d(t){t&&(ts(e),ts(n))}}}function rv(t){let e;return{c(){tp(e=ta("span"),"class","caret-icon svelte-vbjxb8"),ty(e,"expanded",t[6].expanded)},m(t,n){to(t,e,n)},p(t,n){1&n&&ty(e,"expanded",t[6].expanded)},d(t){t&&ts(e)}}}function rm(t){let e,n=[],r=new Map,i=tB(t[6].entries),o=t=>{var e;return null==(e=t[9])?void 0:e.id};for(let e=0;e<i.length;e+=1){let s=rd(t,i,e),l=o(s);r.set(l,n[e]=ry(l,s))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=th()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);to(t,e,r)},p(t,s){7&s&&(i=tB(t[6].entries),n=tL(n,s,o,1,t,i,r,e.parentNode,tF,ry,e,rd))},d(t){t&&ts(e);for(let e=0;e<n.length;e+=1)n[e].d(t)}}}function ry(t,e){var n;let r,i,o,s,l,a,c=(null==(n=e[9])?void 0:n.timeStr)+"";function u(){return e[5](e[9],e[8])}return{key:t,first:null,c(){var t;r=ta("li"),i=ta("button"),o=tu(c),s=tf(),tp(i,"class","p-left svelte-vbjxb8"),tp(r,"class","svelte-vbjxb8"),ty(r,"selected",e[1]===(null==(t=e[9])?void 0:t.id)),this.first=r},m(t,e){to(t,r,e),tr(r,i),tr(i,o),tr(r,s),l||(a=td(i,"click",u),l=!0)},p(t,n){var i,s;e=t,1&n&&c!==(c=(null==(i=e[9])?void 0:i.timeStr)+"")&&tv(o,c),3&n&&ty(r,"selected",e[1]===(null==(s=e[9])?void 0:s.id))},d(t){t&&ts(r),l=!1,a()}}}function rx(t,e){var n;let r,i,o,s,l,a,c,u,f,h,d,p=(null==(n=e[6])||null==(n=n.topEntry)?void 0:n.timeStr)+"",g=e[6].isGroup&&rp(e),v=e[6].topEntry&&e[6].topEntry.trs.length>1&&rg(e),m=e[6].isGroup&&e[6].entries.length>1&&rv(e);function y(){return e[3](e[6],e[8])}function x(){return e[4](e[6])}let b=e[6].isGroup&&e[6].expanded&&rm(e);return{key:t,first:null,c(){var t;r=ta("li"),i=ta("button"),o=ta("span"),s=tu(p),l=tf(),g&&g.c(),a=tf(),v&&v.c(),c=tf(),m&&m.c(),u=tf(),b&&b.c(),f=th(),tp(i,"class","svelte-vbjxb8"),ty(i,"is-group",e[6].isGroup),tp(r,"class","svelte-vbjxb8"),ty(r,"selected",!e[6].expanded&&e[1]===(null==(t=e[6])||null==(t=t.topEntry)?void 0:t.id)),this.first=r},m(t,e){to(t,r,e),tr(r,i),tr(i,o),tr(o,s),tr(o,l),g&&g.m(o,null),tr(o,a),v&&v.m(o,null),tr(i,c),m&&m.m(i,null),to(t,u,e),b&&b.m(t,e),to(t,f,e),h||(d=[td(i,"click",y),td(i,"dblclick",x)],h=!0)},p(t,n){var l,c;e=t,1&n&&p!==(p=(null==(l=e[6])||null==(l=l.topEntry)?void 0:l.timeStr)+"")&&tv(s,p),e[6].isGroup?g?g.p(e,n):((g=rp(e)).c(),g.m(o,a)):g&&(g.d(1),g=null),e[6].topEntry&&e[6].topEntry.trs.length>1?v?v.p(e,n):((v=rg(e)).c(),v.m(o,null)):v&&(v.d(1),v=null),e[6].isGroup&&e[6].entries.length>1?m?m.p(e,n):((m=rv(e)).c(),m.m(i,null)):m&&(m.d(1),m=null),1&n&&ty(i,"is-group",e[6].isGroup),3&n&&ty(r,"selected",!e[6].expanded&&e[1]===(null==(c=e[6])||null==(c=c.topEntry)?void 0:c.id)),e[6].isGroup&&e[6].expanded?b?b.p(e,n):((b=rm(e)).c(),b.m(f.parentNode,f)):b&&(b.d(1),b=null)},d(t){t&&(ts(r),ts(u),ts(f)),g&&g.d(),v&&v.d(),m&&m.d(),b&&b.d(t),h=!1,J(d)}}}function rb(t){let e,n=[],r=new Map,i=tB(t[0]),o=t=>t[6].id;for(let e=0;e<i.length;e+=1){let s=rh(t,i,e),l=o(s);r.set(l,n[e]=rx(l,s))}return{c(){e=ta("ul");for(let t=0;t<n.length;t+=1)n[t].c();tp(e,"class","svelte-vbjxb8")},m(t,r){to(t,e,r);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,null)},p(t,s){let[l]=s;7&l&&(i=tB(t[0]),n=tL(n,l,o,1,t,i,r,e,tF,rx,null,rh))},i:B,o:B,d(t){t&&ts(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function rw(t,e,n){let{listItems:r=[],selectedId:i}=e,o=tw();return t.$$set=t=>{"listItems"in t&&n(0,r=t.listItems),"selectedId"in t&&n(1,i=t.selectedId)},[r,i,o,(t,e)=>{var n;return o("click-item",{id:null==t||null==(n=t.topEntry)?void 0:n.id,groupIdx:e,wasTopNode:!0})},t=>{var e;return o("dblclick-item",{id:null==t||null==(e=t.topEntry)?void 0:e.id})},(t,e)=>o("click-item",{id:null==t?void 0:t.id,groupIdx:e,wasTopNode:!1})]}var r$=class extends tG{constructor(t){super(),tV(this,t,rw,rb,V,{listItems:0,selectedId:1},rf)}};function r_(t){ti(t,"svelte-1a1oqej",".added.svelte-1a1oqej.svelte-1a1oqej{display:inline-block;background:#87cc86;border-radius:1px;color:green;padding:1px 2px;text-indent:0;min-height:1ex}.deleted.svelte-1a1oqej.svelte-1a1oqej{display:inline-block;background:#d66363;border-radius:1px;color:#222;padding:1px 2px;text-decoration:line-through;text-indent:0;min-height:1ex}.updated.svelte-1a1oqej.svelte-1a1oqej{word-break:break-all}.updated.svelte-1a1oqej .added.svelte-1a1oqej{background:#eaea37}.arrow.svelte-1a1oqej.svelte-1a1oqej{color:#87cc86}")}function rk(t,e,n){let r=t.slice();return r[3]=e[n],r}function rj(t){let e,n=t[0](t[1])+"";return{c(){e=tu(n)},m(t,n){to(t,e,n)},p(t,r){3&r&&n!==(n=t[0](t[1])+"")&&tv(e,n)},d(t){t&&ts(e)}}}function rC(t){let e;function n(t,e){return 1===t[1].length?rT:2===t[1].length?rO:3===t[1].length&&0===t[1][1]&&0===t[1][2]?rE:3===t[1].length&&2===t[1][2]?rS:void 0}let r=n(t),i=r&&r(t);return{c(){i&&i.c(),e=th()},m(t,n){i&&i.m(t,n),to(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i&&i.d(1),(i=r&&r(t))&&(i.c(),i.m(e.parentNode,e)))},d(t){t&&ts(e),i&&i.d(t)}}}function rS(t){let e,n=tB(rz(t[1][0])),r=[];for(let e=0;e<n.length;e+=1)r[e]=rq(rk(t,n,e));return{c(){e=ta("span");for(let t=0;t<r.length;t+=1)r[t].c();tp(e,"class","updated svelte-1a1oqej")},m(t,n){to(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,i){if(2&i){let o;for(o=0,n=tB(rz(t[1][0]));o<n.length;o+=1){let s=rk(t,n,o);r[o]?r[o].p(s,i):(r[o]=rq(s),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&ts(e),tl(r,t)}}}function rE(t){let e,n,r=rR(t[1][0])+"";return{c(){e=ta("span"),n=tu(r),tp(e,"class","deleted svelte-1a1oqej")},m(t,r){to(t,e,r),tr(e,n)},p(t,e){2&e&&r!==(r=rR(t[1][0])+"")&&tv(n,r)},d(t){t&&ts(e)}}}function rO(t){let e,n,r,i,o,s,l,a,c=rR(t[1][0])+"",u=rR(t[1][1])+"";return{c(){e=ta("span"),n=ta("span"),r=tu(c),i=tf(),(o=ta("span")).textContent="=>",s=tf(),l=ta("span"),a=tu(u),tp(n,"class","deleted svelte-1a1oqej"),tp(o,"class","arrow svelte-1a1oqej"),tp(l,"class","added svelte-1a1oqej"),tp(e,"class","updated svelte-1a1oqej")},m(t,c){to(t,e,c),tr(e,n),tr(n,r),tr(e,i),tr(e,o),tr(e,s),tr(e,l),tr(l,a)},p(t,e){2&e&&c!==(c=rR(t[1][0])+"")&&tv(r,c),2&e&&u!==(u=rR(t[1][1])+"")&&tv(a,u)},d(t){t&&ts(e)}}}function rT(t){let e,n,r=rR(t[1][0])+"";return{c(){e=ta("span"),n=tu(r),tp(e,"class","added svelte-1a1oqej")},m(t,r){to(t,e,r),tr(e,n)},p(t,e){2&e&&r!==(r=rR(t[1][0])+"")&&tv(n,r)},d(t){t&&ts(e)}}}function rA(t){let e,n,r=t[3].raw+"";return{c(){e=ta("span"),n=tu(r)},m(t,r){to(t,e,r),tr(e,n)},p(t,e){2&e&&r!==(r=t[3].raw+"")&&tv(n,r)},d(t){t&&ts(e)}}}function rN(t){let e,n,r=t[3].add+"";return{c(){e=ta("span"),n=tu(r),tp(e,"class","added svelte-1a1oqej")},m(t,r){to(t,e,r),tr(e,n)},p(t,e){2&e&&r!==(r=t[3].add+"")&&tv(n,r)},d(t){t&&ts(e)}}}function rD(t){let e,n,r=t[3].delete+"";return{c(){e=ta("span"),n=tu(r),tp(e,"class","deleted svelte-1a1oqej")},m(t,r){to(t,e,r),tr(e,n)},p(t,e){2&e&&r!==(r=t[3].delete+"")&&tv(n,r)},d(t){t&&ts(e)}}}function rq(t){let e;function n(t,e){return t[3].delete?rD:t[3].add?rN:rA}let r=n(t),i=r(t);return{c(){i.c(),e=th()},m(t,n){i.m(t,n),to(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(e.parentNode,e)))},d(t){t&&ts(e),i.d(t)}}}function rM(t){let e,n;function r(t,n){return(2&n&&(e=null),null==e&&(e=!!Array.isArray(t[1])),e)?rC:rj}let i=r(t,-1),o=i(t);return{c(){o.c(),n=th()},m(t,e){o.m(t,e),to(t,n,e)},p(t,e){let[s]=e;i===(i=r(t,s))&&o?o.p(t,s):(o.d(1),(o=i(t))&&(o.c(),o.m(n.parentNode,n)))},i:B,o:B,d(t){t&&ts(n),o.d(t)}}}function rz(t){return t.split(/\n/gm).slice(1).map(t=>({[t.startsWith("-")?"delete":t.startsWith("+")?"add":"raw"]:t.slice(1).replace(/\s/gm,"\xa0")}))}function rR(t){if("string"==typeof t)return t;if(null===t)return"null";let e=JSON.stringify(t);return void 0===e?"undefined":e.length>22?"".concat(e.slice(0,15),"").concat(e.slice(-5)):e}function rI(t,e,n){let r,{node:i,defaultFormatter:o}=e;return t.$$set=t=>{"node"in t&&n(2,i=t.node),"defaultFormatter"in t&&n(0,o=t.defaultFormatter)},t.$$.update=()=>{4&t.$$.dirty&&n(1,r=i.value)},[o,r,i]}var rP=class extends tG{constructor(t){super(),tV(this,t,rI,rM,V,{node:2,defaultFormatter:0},r_)}};function rB(t){ti(t,"svelte-r7zw98",".left-panel.svelte-r7zw98.svelte-r7zw98{flex-grow:0;padding:0;min-width:190px;width:190px}.title-container.svelte-r7zw98.svelte-r7zw98{align-items:center;display:flex}.transaction-buttons.svelte-r7zw98.svelte-r7zw98{margin-left:2rem}.entry-row.svelte-r7zw98+.entry-row.svelte-r7zw98{margin-top:1em}.selection-html.svelte-r7zw98.svelte-r7zw98{font-weight:100;margin:0.5em 0 0 0;padding:0}.equal-diff.svelte-r7zw98.svelte-r7zw98{align-items:center;color:rgb(255, 162, 177);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}")}function rF(t,e,n){let r=t.slice();return r[13]=e[n],r}function rL(t){var e;let n,r,i;return(r=new r$({props:{listItems:t[4],selectedId:(null==(e=t[0])?void 0:e.id)||""}})).$on("click-item",t[7]),r.$on("dblclick-item",t[8]),{c(){n=ta("div"),tU(r.$$.fragment),tp(n,"slot","left"),tp(n,"class","left-panel svelte-r7zw98")},m(t,e){to(t,n,e),tJ(r,n,null),i=!0},p(t,e){var n;let i={};16&e&&(i.listItems=t[4]),1&e&&(i.selectedId=(null==(n=t[0])?void 0:n.id)||""),r.$set(i)},i(t){i||(tI(r.$$.fragment,t),i=!0)},o(t){tP(r.$$.fragment,t),i=!1},d(t){t&&ts(n),tH(r)}}}function rU(t){let e;return{c(){(e=ta("div")).textContent="Docs are equal.",tp(e,"class","equal-diff svelte-r7zw98")},m(t,n){to(t,e,n)},p:B,i:B,o:B,d(t){t&&ts(e)}}}function rJ(t){let e,n,r,i,o,s,l,a,c,u,f,h,d,p=t[0].contentDiff&&rH(t),g=t[0].selectionDiff&&rG(t),v=t[0].selectionHtml.length>0&&rW(t),m=t[1]&&rQ(t);(f=new n9({props:{$$slots:{default:[r1]},$$scope:{ctx:t}}})).$on("click",t[5]);let y=t[1]&&r0(t);return{c(){e=ta("div"),p&&p.c(),n=tf(),g&&g.c(),r=tf(),v&&v.c(),i=tf(),o=ta("div"),s=ta("div"),(l=ta("h2")).textContent="Transactions",a=tf(),c=ta("div"),m&&m.c(),u=tf(),tU(f.$$.fragment),h=tf(),y&&y.c(),tp(c,"class","transaction-buttons svelte-r7zw98"),tp(s,"class","title-container svelte-r7zw98"),tp(o,"class","entry-row svelte-r7zw98")},m(t,x){to(t,e,x),p&&p.m(e,null),tr(e,n),g&&g.m(e,null),tr(e,r),v&&v.m(e,null),tr(e,i),tr(e,o),tr(o,s),tr(s,l),tr(s,a),tr(s,c),m&&m.m(c,null),tr(c,u),tJ(f,c,null),tr(o,h),y&&y.m(o,null),d=!0},p(t,s){t[0].contentDiff?p?(p.p(t,s),1&s&&tI(p,1)):((p=rH(t)).c(),tI(p,1),p.m(e,n)):p&&(tz(),tP(p,1,1,()=>{p=null}),tR()),t[0].selectionDiff?g?(g.p(t,s),1&s&&tI(g,1)):((g=rG(t)).c(),tI(g,1),g.m(e,r)):g&&(tz(),tP(g,1,1,()=>{g=null}),tR()),t[0].selectionHtml.length>0?v?(v.p(t,s),1&s&&tI(v,1)):((v=rW(t)).c(),tI(v,1),v.m(e,i)):v&&(tz(),tP(v,1,1,()=>{v=null}),tR()),t[1]?m?(m.p(t,s),2&s&&tI(m,1)):((m=rQ(t)).c(),tI(m,1),m.m(c,u)):m&&(tz(),tP(m,1,1,()=>{m=null}),tR());let l={};65538&s&&(l.$$scope={dirty:s,ctx:t}),f.$set(l),t[1]?y?(y.p(t,s),2&s&&tI(y,1)):((y=r0(t)).c(),tI(y,1),y.m(o,null)):y&&(tz(),tP(y,1,1,()=>{y=null}),tR())},i(t){d||(tI(p),tI(g),tI(v),tI(m),tI(f.$$.fragment,t),tI(y),d=!0)},o(t){tP(p),tP(g),tP(v),tP(m),tP(f.$$.fragment,t),tP(y),d=!1},d(t){t&&ts(e),p&&p.d(),g&&g.d(),v&&v.d(),m&&m.d(),tH(f),y&&y.d()}}}function rH(t){let e,n,r,i,o,s,l,a;return o=new n9({props:{class:"hidden",$$slots:{default:[rV]},$$scope:{ctx:t}}}),l=new nW({props:{class:"tree-view",data:t[0].contentDiff,showLogButton:!0,showCopyButton:!0,valueComponent:rP,recursionOpts:{maxDepth:12,mapChildren:ru,shouldExpandNode:r6}}}),{c(){e=ta("div"),n=ta("div"),(r=ta("h2")).textContent="Doc diff",i=tf(),tU(o.$$.fragment),s=tf(),tU(l.$$.fragment),tp(n,"class","title-container svelte-r7zw98"),tp(e,"class","entry-row svelte-r7zw98")},m(t,c){to(t,e,c),tr(e,n),tr(n,r),tr(n,i),tJ(o,n,null),tr(e,s),tJ(l,e,null),a=!0},p(t,e){let n={};65536&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);let r={};1&e&&(r.data=t[0].contentDiff),l.$set(r)},i(t){a||(tI(o.$$.fragment,t),tI(l.$$.fragment,t),a=!0)},o(t){tP(o.$$.fragment,t),tP(l.$$.fragment,t),a=!1},d(t){t&&ts(e),tH(o),tH(l)}}}function rV(t){let e;return{c(){e=tu("log")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function rG(t){let e,n,r,i,o,s,l,a;return o=new n9({props:{class:"hidden",$$slots:{default:[rK]},$$scope:{ctx:t}}}),l=new nW({props:{class:"tree-view",data:t[0].selectionDiff,valueComponent:rP,recursionOpts:{mapChildren:rc,shouldExpandNode:r4}}}),{c(){e=ta("div"),n=ta("div"),(r=ta("h2")).textContent="Selection diff",i=tf(),tU(o.$$.fragment),s=tf(),tU(l.$$.fragment),tp(n,"class","title-container svelte-r7zw98"),tp(e,"class","entry-row svelte-r7zw98")},m(t,c){to(t,e,c),tr(e,n),tr(n,r),tr(n,i),tJ(o,n,null),tr(e,s),tJ(l,e,null),a=!0},p(t,e){let n={};65536&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);let r={};1&e&&(r.data=t[0].selectionDiff),l.$set(r)},i(t){a||(tI(o.$$.fragment,t),tI(l.$$.fragment,t),a=!0)},o(t){tP(o.$$.fragment,t),tP(l.$$.fragment,t),a=!1},d(t){t&&ts(e),tH(o),tH(l)}}}function rK(t){let e;return{c(){e=tu("log")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function rW(t){let e,n,r,i,o,s,l,a,c,u=t[0].selectionHtml+"";return o=new n9({props:{class:"hidden",$$slots:{default:[rY]},$$scope:{ctx:t}}}),{c(){e=ta("div"),n=ta("div"),(r=ta("h2")).textContent="Selection content",i=tf(),tU(o.$$.fragment),s=tf(),l=ta("pre"),a=ta("code"),tp(n,"class","title-container svelte-r7zw98"),tp(l,"class","selection-html svelte-r7zw98"),tp(e,"class","entry-row svelte-r7zw98")},m(t,f){to(t,e,f),tr(e,n),tr(n,r),tr(n,i),tJ(o,n,null),tr(e,s),tr(e,l),tr(l,a),a.innerHTML=u,c=!0},p(t,e){let n={};65536&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n),(!c||1&e)&&u!==(u=t[0].selectionHtml+"")&&(a.innerHTML=u)},i(t){c||(tI(o.$$.fragment,t),c=!0)},o(t){tP(o.$$.fragment,t),c=!1},d(t){t&&ts(e),tH(o)}}}function rY(t){let e;return{c(){e=tu("log")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function rQ(t){let e,n,r,i;return(e=new n9({props:{$$slots:{default:[rZ]},$$scope:{ctx:t}}})).$on("click",t[9]),(r=new n9({props:{$$slots:{default:[rX]},$$scope:{ctx:t}}})).$on("click",t[6]),{c(){tU(e.$$.fragment),n=tf(),tU(r.$$.fragment)},m(t,o){tJ(e,t,o),to(t,n,o),tJ(r,t,o),i=!0},p(t,n){let i={};65540&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);let o={};65536&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(tI(e.$$.fragment,t),tI(r.$$.fragment,t),i=!0)},o(t){tP(e.$$.fragment,t),tP(r.$$.fragment,t),i=!1},d(t){t&&ts(n),tH(e,t),tH(r,t)}}}function rZ(t){let e,n=t[2]?"collapse":"expand";return{c(){e=tu(n)},m(t,n){to(t,e,n)},p(t,r){4&r&&n!==(n=t[2]?"collapse":"expand")&&tv(e,n)},d(t){t&&ts(e)}}}function rX(t){let e;return{c(){e=tu("log")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function r1(t){let e,n=t[1]?"hide":"show";return{c(){e=tu(n)},m(t,n){to(t,e,n)},p(t,r){2&r&&n!==(n=t[1]?"hide":"show")&&tv(e,n)},d(t){t&&ts(e)}}}function r0(t){let e,n,r=tB(t[0].trs),i=[];for(let e=0;e<r.length;e+=1)i[e]=r2(rF(t,r,e));let o=t=>tP(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=th()},m(t,r){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,r);to(t,e,r),n=!0},p(t,n){if(9&n){let s;for(s=0,r=tB(t[0].trs);s<r.length;s+=1){let o=rF(t,r,s);i[s]?(i[s].p(o,n),tI(i[s],1)):(i[s]=r2(o),i[s].c(),tI(i[s],1),i[s].m(e.parentNode,e))}for(tz(),s=r.length;s<i.length;s+=1)o(s);tR()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)tI(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)tP(i[t]);n=!1},d(t){t&&ts(e),tl(i,t)}}}function r2(t){let e,n;return e=new nW({props:{class:"tree-view",data:t[13],showLogButton:!0,showCopyButton:!0,recursionOpts:t[3]}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let r={};1&n&&(r.data=t[13]),8&n&&(r.recursionOpts=t[3]),e.$set(r)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function r3(t){let e,n,r,i,o=[rJ,rU],s=[];return r=s[n=+!t[0]]=o[n](t),{c(){e=ta("div"),r.c(),tp(e,"slot","right"),tp(e,"class","right-panel")},m(t,r){to(t,e,r),s[n].m(e,null),i=!0},p(t,i){let l=n;(n=+!t[0])===l?s[n].p(t,i):(tz(),tP(s[l],1,1,()=>{s[l]=null}),tR(),(r=s[n])?r.p(t,i):(r=s[n]=o[n](t)).c(),tI(r,1),r.m(e,null))},i(t){i||(tI(r),i=!0)},o(t){tP(r),i=!1},d(t){t&&ts(e),s[n].d()}}}function r5(t){let e,n;return e=new n3({props:{$$slots:{right:[r3],left:[rL]},$$scope:{ctx:t}}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let[r]=n,i={};65567&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}var r6=()=>!0,r4=()=>!0;function r9(t,e,n){let r,i,o;W(t,nx,t=>n(10,i=t)),W(t,nb,t=>n(11,o=t));let s,l=!1,{replaceEditorContent:a}=tW("editor-view"),c=!1,u={maxDepth:24,stopCircularRecursion:!0,omitKeys:["schema"],shouldExpandNode:()=>c};return nw.subscribe(t=>{t&&n(0,s=t)}),t.$$.update=()=>{3072&t.$$.dirty&&n(4,r=o.map(t=>({id:t.id,isGroup:t.isGroup,topEntry:i.get(t.topEntryId),entries:t.entryIds.map(t=>i.get(t)),expanded:t.expanded})))},[s,l,c,u,r,function(){n(1,l=!l)},function(){console.info("%c [prosemirror-dev-toolkit]: Property added to window._trs","color: #b8e248"),console.log(null==s?void 0:s.trs),window._trs=null==s?void 0:s.trs},function(t){let{id:e="",groupIdx:o,wasTopNode:l}=t.detail;if(n(0,s=i.get(e)),!s)return;let a=r[o];a.isGroup&&a.entries.length>1&&l&&nb.update(t=>t.map((t,e)=>e!==o?t:Object.assign(Object.assign({},t),{expanded:!t.expanded})))},function(t){n(0,s=i.get(t.detail.id||"")),s&&a(s.state)},function(){n(2,c=!c),n(3,u=Object.assign(Object.assign({},u),{shouldExpandNode:()=>c}))},i,o]}var r7=class extends tG{constructor(t){super(),tV(this,t,r9,r5,V,{},rB)}};function r8(t){ti(t,"svelte-1fq2hhi","ul.svelte-1fq2hhi.svelte-1fq2hhi{color:#fff;list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-1fq2hhi+li.svelte-1fq2hhi{border-top:1px solid rgb(96, 76, 104)}button.svelte-1fq2hhi.svelte-1fq2hhi{background:transparent;border:0;color:#d3d3d9;cursor:pointer;display:flex;font-family:monospace;font-size:var(--font-medium);font-weight:100;padding:6px 18px;text-transform:uppercase;width:100%}button.svelte-1fq2hhi.svelte-1fq2hhi:hover{background:rgba(255, 162, 177, 0.4);color:#fff}button:hover.empty.svelte-1fq2hhi.svelte-1fq2hhi{background:rgb(80, 68, 93)}button.selected.svelte-1fq2hhi.svelte-1fq2hhi{background:rgba(255, 162, 177, 0.4)}button.selected.empty.svelte-1fq2hhi.svelte-1fq2hhi{background:rgb(80, 68, 93)}button.empty.svelte-1fq2hhi.svelte-1fq2hhi{color:#727288}")}function it(t,e,n){let r=t.slice();return r[4]=e[n],r}function ie(t){let e,n,r,i,o,s,l=t[4].value+"";function a(){return t[3](t[4])}return{c(){e=ta("li"),n=ta("button"),r=tu(l),i=tf(),tp(n,"class","svelte-1fq2hhi"),ty(n,"selected",t[1]===t[4].key),ty(n,"empty",t[4].empty),tp(e,"class","svelte-1fq2hhi")},m(t,l){to(t,e,l),tr(e,n),tr(n,r),tr(e,i),o||(s=td(n,"click",a),o=!0)},p(e,i){t=e,1&i&&l!==(l=t[4].value+"")&&tv(r,l),3&i&&ty(n,"selected",t[1]===t[4].key),1&i&&ty(n,"empty",t[4].empty)},d(t){t&&ts(e),o=!1,s()}}}function ir(t){let e,n=tB(t[0]),r=[];for(let e=0;e<n.length;e+=1)r[e]=ie(it(t,n,e));return{c(){e=ta("ul");for(let t=0;t<r.length;t+=1)r[t].c();tp(e,"class","svelte-1fq2hhi")},m(t,n){to(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,i){let[o]=i;if(7&o){let i;for(i=0,n=tB(t[0]);i<n.length;i+=1){let s=it(t,n,i);r[i]?r[i].p(s,o):(r[i]=ie(s),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:B,o:B,d(t){t&&ts(e),tl(r,t)}}}function ii(t,e,n){let{listItems:r=[],selectedKey:i,onSelect:o}=e;return t.$$set=t=>{"listItems"in t&&n(0,r=t.listItems),"selectedKey"in t&&n(1,i=t.selectedKey),"onSelect"in t&&n(2,o=t.onSelect)},[r,i,o,t=>o(t)]}var io=class extends tG{constructor(t){super(),tV(this,t,ii,ir,V,{listItems:0,selectedKey:1,onSelect:2},r8)}};function is(t){ti(t,"svelte-9l897d",".top-row.svelte-9l897d{align-items:center;display:flex;justify-content:space-between;margin-bottom:0.5em}.left-panel[slot=left].svelte-9l897d{flex-grow:0;overflow:scroll;padding:0;min-width:190px;width:190px}.right-panel[slot=right].svelte-9l897d{border-left:1px solid rgba(255, 162, 177, 0.2)}.empty-state.svelte-9l897d{align-items:center;color:rgb(255, 162, 177);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}")}function il(t){var e;let n,r,i;return r=new io({props:{listItems:t[4],selectedKey:null==(e=t[0])?void 0:e.key,onSelect:t[5]}}),{c(){n=ta("div"),tU(r.$$.fragment),tp(n,"slot","left"),tp(n,"class","left-panel svelte-9l897d")},m(t,e){to(t,n,e),tJ(r,n,null),i=!0},p(t,e){var n;let i={};16&e&&(i.listItems=t[4]),1&e&&(i.selectedKey=null==(n=t[0])?void 0:n.key),r.$set(i)},i(t){i||(tI(r.$$.fragment,t),i=!0)},o(t){tP(r.$$.fragment,t),i=!1},d(t){t&&ts(n),tH(r)}}}function ia(t){let e,n,r,i,o,s,l,a;return(o=new n9({props:{$$slots:{default:[ic]},$$scope:{ctx:t}}})).$on("click",t[6]),(l=new n9({props:{$$slots:{default:[iu]},$$scope:{ctx:t}}})).$on("click",t[7]),{c(){e=ta("div"),(n=ta("h2")).textContent="Plugin state",r=tf(),i=ta("div"),tU(o.$$.fragment),s=tf(),tU(l.$$.fragment),tp(e,"class","top-row svelte-9l897d")},m(t,c){to(t,e,c),tr(e,n),tr(e,r),tr(e,i),tJ(o,i,null),tr(i,s),tJ(l,i,null),a=!0},p(t,e){let n={};2050&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);let r={};2048&e&&(r.$$scope={dirty:e,ctx:t}),l.$set(r)},i(t){a||(tI(o.$$.fragment,t),tI(l.$$.fragment,t),a=!0)},o(t){tP(o.$$.fragment,t),tP(l.$$.fragment,t),a=!1},d(t){t&&ts(e),tH(o),tH(l)}}}function ic(t){let e,n=t[1]?"collapse":"expand";return{c(){e=tu(n)},m(t,n){to(t,e,n)},p(t,r){2&r&&n!==(n=t[1]?"collapse":"expand")&&tv(e,n)},d(t){t&&ts(e)}}}function iu(t){let e;return{c(){e=tu("log")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function ih(t){let e;return{c(){(e=ta("div")).textContent="Plugin has no state",tp(e,"class","empty-state svelte-9l897d")},m(t,n){to(t,e,n)},p:B,i:B,o:B,d(t){t&&ts(e)}}}function id(t){let e,n;return e=new nW({props:{data:t[3],showLogButton:!0,showCopyButton:!0,recursionOpts:t[2]}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let r={};8&n&&(r.data=t[3]),4&n&&(r.recursionOpts=t[2]),e.$set(r)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function ip(t){let e,n,r,i,o,s=t[3]&&ia(t),l=[id,ih],a=[];return i=a[r=+!t[3]]=l[r](t),{c(){e=ta("div"),s&&s.c(),n=tf(),i.c(),tp(e,"slot","right"),tp(e,"class","right-panel svelte-9l897d")},m(t,i){to(t,e,i),s&&s.m(e,null),tr(e,n),a[r].m(e,null),o=!0},p(t,o){t[3]?s?(s.p(t,o),8&o&&tI(s,1)):((s=ia(t)).c(),tI(s,1),s.m(e,n)):s&&(tz(),tP(s,1,1,()=>{s=null}),tR());let c=r;(r=+!t[3])===c?a[r].p(t,o):(tz(),tP(a[c],1,1,()=>{a[c]=null}),tR(),(i=a[r])?i.p(t,o):(i=a[r]=l[r](t)).c(),tI(i,1),i.m(e,null))},i(t){o||(tI(s),tI(i),o=!0)},o(t){tP(s),tP(i),o=!1},d(t){t&&ts(e),s&&s.d(),a[r].d()}}}function ig(t){let e,n;return e=new n3({props:{$$slots:{right:[ip],left:[il]},$$scope:{ctx:t}}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let[r]=n,i={};2079&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function iv(t,e,n){let r,i,{view:o}=tW("editor-view"),s=!1,l={maxDepth:10,stopCircularRecursion:!0,shouldExpandNode:()=>s},a=o.state,c=a.plugins,u=c[0];return nw.subscribe(t=>{t&&(n(8,a=t.state),n(9,c=a.plugins),n(0,u=c.find(t=>t.key===(null==u?void 0:u.key))))}),t.$$.update=()=>{257&t.$$.dirty&&n(3,r=(null==u?void 0:u.getState)?u.getState(a):void 0),768&t.$$.dirty&&n(4,i=c.map(t=>({key:t.key,value:t.key.toUpperCase(),empty:!(t.getState&&t.getState(a))})))},[u,s,l,r,i,function(t){n(0,u=c.find(e=>e.key===t.key))},function(){n(1,s=!s),n(2,l=Object.assign(Object.assign({},l),{shouldExpandNode:()=>s}))},function(){window._plugin=[u,r],console.info("%c [prosemirror-dev-toolkit]: Property added to window._plugin","color: #b8e248"),console.log(u),console.log(r)},a,c]}var im=class extends tG{constructor(t){super(),tV(this,t,iv,ig,V,{},is)}};function iy(t){ti(t,"svelte-1u2reu1",".top-row.svelte-1u2reu1{align-items:center;display:flex;justify-content:space-between}.left-panel[slot=left].svelte-1u2reu1{overflow:scroll;padding:1em}.right-panel[slot=right].svelte-1u2reu1{border-left:1px solid rgba(255, 162, 177, 0.2);overflow:scroll;padding:1em}")}function ix(t){let e;return{c(){e=tu("log")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function ib(t){let e,n,r,i,o,s,l,a;return o=new n9({props:{class:"hidden",$$slots:{default:[ix]},$$scope:{ctx:t}}}),l=new nW({props:{class:"tree-view",data:t[0],showLogButton:!0,showCopyButton:!0,recursionOpts:{stopCircularRecursion:!0}}}),{c(){e=ta("div"),n=ta("div"),(r=ta("h2")).textContent="Nodes",i=tf(),tU(o.$$.fragment),s=tf(),tU(l.$$.fragment),tp(n,"class","top-row svelte-1u2reu1"),tp(e,"slot","left"),tp(e,"class","left-panel svelte-1u2reu1")},m(t,c){to(t,e,c),tr(e,n),tr(n,r),tr(n,i),tJ(o,n,null),tr(e,s),tJ(l,e,null),a=!0},p(t,e){let n={};8&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i(t){a||(tI(o.$$.fragment,t),tI(l.$$.fragment,t),a=!0)},o(t){tP(o.$$.fragment,t),tP(l.$$.fragment,t),a=!1},d(t){t&&ts(e),tH(o),tH(l)}}}function iw(t){let e;return{c(){e=tu("log")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function i$(t){let e,n,r,i,o,s,l,a;return o=new n9({props:{class:"hidden",$$slots:{default:[iw]},$$scope:{ctx:t}}}),l=new nW({props:{class:"tree-view",data:t[1],showLogButton:!0,showCopyButton:!0,recursionOpts:{stopCircularRecursion:!0}}}),{c(){e=ta("div"),n=ta("div"),(r=ta("h2")).textContent="Marks",i=tf(),tU(o.$$.fragment),s=tf(),tU(l.$$.fragment),tp(n,"class","top-row svelte-1u2reu1"),tp(e,"slot","right"),tp(e,"class","right-panel svelte-1u2reu1")},m(t,c){to(t,e,c),tr(e,n),tr(n,r),tr(n,i),tJ(o,n,null),tr(e,s),tJ(l,e,null),a=!0},p(t,e){let n={};8&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i(t){a||(tI(o.$$.fragment,t),tI(l.$$.fragment,t),a=!0)},o(t){tP(o.$$.fragment,t),tP(l.$$.fragment,t),a=!1},d(t){t&&ts(e),tH(o),tH(l)}}}function i_(t){let e,n;return e=new n3({props:{$$slots:{right:[i$],left:[ib]},$$scope:{ctx:t}}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let[r]=n,i={};8&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function ik(t){let{view:e}=tW("editor-view");return[e.state.schema.nodes,e.state.schema.marks]}var ij=class extends tG{constructor(t){super(),tV(this,t,ik,i_,V,{},iy)}};function iC(t){ti(t,"svelte-1un819s",".doc-node.svelte-1un819s{border-left:1px solid #363755;border-right:1px solid #363755;display:flex;flex-direction:column;padding:0 12px}.doc-node.root.svelte-1un819s{border:0;padding:0}.doc-node-body.svelte-1un819s{background:#363755;color:#222;display:flex;font-size:13px;margin-top:3px}.number-box.svelte-1un819s{padding:3px 6px;background:rgba(255, 255, 255, 0.3)}.node-name.svelte-1un819s{width:100%}button.svelte-1un819s{align-items:center;background:transparent;border:0;color:#222;cursor:pointer;display:flex;height:100%;white-space:pre;width:100%}button.svelte-1un819s:hover{background:rgba(255, 162, 177, 0.4);color:#fff}button.selected.svelte-1un819s{background:rgba(255, 162, 177, 0.4)}ul.svelte-1un819s{list-style:none;margin:0;padding:0}ul.show-borders.svelte-1un819s{border-left:1px solid rgb(96, 76, 104);border-right:1px solid rgb(96, 76, 104)}.inline-children.svelte-1un819s{border-left:1px solid rgb(96, 76, 104);border-right:1px solid rgb(96, 76, 104);display:flex;flex-wrap:wrap;padding:0 12px}.inline-children.svelte-1un819s>.doc-node{flex-grow:1;padding:0}")}function iS(t,e,n){let r=t.slice();return r[15]=e[n],r[17]=n,r}function iE(t){let e,n;return e=new iA({props:{node:t[15],startPos:t[5][t[17]],depth:t[1]+1}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let r={};4&n&&(r.node=t[15]),32&n&&(r.startPos=t[5][t[17]]),2&n&&(r.depth=t[1]+1),e.$set(r)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function iO(t){let e,n,r,i,o,s,l,a,c,u,f,h,d,p,g,v,m,y,x=tB(t[2].content),b=[];for(let e=0;e<x.length;e+=1)b[e]=iE(iS(t,x,e));let w=t=>tP(b[t],1,1,()=>{b[t]=null});return{c(){e=ta("li"),n=ta("div"),r=ta("div"),i=tu(t[0]),o=tf(),s=ta("div"),l=ta("button"),a=tu(t[6]),c=tf(),u=ta("div"),f=tu(t[4]),d=tf(),p=ta("ul");for(let t=0;t<b.length;t+=1)b[t].c();tp(r,"class","number-box svelte-1un819s"),tp(l,"aria-label","Show node info button"),tp(l,"class","svelte-1un819s"),ty(l,"selected",!1),tp(s,"class","node-name svelte-1un819s"),tp(u,"class","number-box svelte-1un819s"),tp(n,"class","doc-node-body svelte-1un819s"),tp(n,"style",h="background: ".concat(t[7])),tp(p,"class","svelte-1un819s"),ty(p,"inline-children",t[3]),ty(p,"show-borders",t[1]>=1),tp(e,"class",g=tn("".concat(t[11].class||""," doc-node"))+" svelte-1un819s"),ty(e,"root",t[8])},m(h,g){to(h,e,g),tr(e,n),tr(n,r),tr(r,i),tr(n,o),tr(n,s),tr(s,l),tr(l,a),tr(n,c),tr(n,u),tr(u,f),tr(e,d),tr(e,p);for(let t=0;t<b.length;t+=1)b[t]&&b[t].m(p,null);v=!0,m||(y=[td(l,"click",t[9]),td(l,"dblclick",t[10])],m=!0)},p(t,r){let[o]=r;if((!v||1&o)&&tv(i,t[0]),(!v||64&o)&&tv(a,t[6]),(!v||16&o)&&tv(f,t[4]),(!v||128&o&&h!==(h="background: ".concat(t[7])))&&tp(n,"style",h),38&o){let e;for(e=0,x=tB(t[2].content);e<x.length;e+=1){let n=iS(t,x,e);b[e]?(b[e].p(n,o),tI(b[e],1)):(b[e]=iE(n),b[e].c(),tI(b[e],1),b[e].m(p,null))}for(tz(),e=x.length;e<b.length;e+=1)w(e);tR()}(!v||8&o)&&ty(p,"inline-children",t[3]),(!v||2&o)&&ty(p,"show-borders",t[1]>=1),(!v||2048&o&&g!==(g=tn("".concat(t[11].class||""," doc-node"))+" svelte-1un819s"))&&tp(e,"class",g),(!v||2304&o)&&ty(e,"root",t[8])},i(t){if(!v){for(let t=0;t<x.length;t+=1)tI(b[t]);v=!0}},o(t){b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)tP(b[t]);v=!1},d(t){t&&ts(e),tl(b,t),m=!1,J(y)}}}function iT(t,e,n){let r,i,o,s,l,a,{colors:c,handleNodeClick:u}=tW("doc-view"),{node:f,startPos:h,depth:d}=e,p=0===d;return t.$$set=t=>{n(11,e=F(F({},e),te(t))),"node"in t&&n(12,f=t.node),"startPos"in t&&n(0,h=t.startPos),"depth"in t&&n(1,d=t.depth)},t.$$.update=()=>{4096&t.$$.dirty&&n(2,r=f.content),4096&t.$$.dirty&&n(7,i=c[f.type.name]),4096&t.$$.dirty&&n(6,o=f.isText&&f.marks.length>0?"".concat(f.type.name," - [").concat(f.marks.map(t=>t.type.name).join(", "),"]"):f.type.name),4097&t.$$.dirty&&n(5,s=Array(f.childCount).fill(void 0).reduce((t,e,n)=>{if(0===n)return[p?0:h+1];let r=t[n-1];return[...t,r+f.child(n-1).nodeSize]},[])),4097&t.$$.dirty&&n(4,l=h+f.nodeSize),4&t.$$.dirty&&n(3,a=r.content.every(t=>t.isInline))},e=te(e),[h,d,r,a,l,s,o,i,p,function(){u(f,h)},function(){u(f,h,!0)},e,f]}var iA=class extends tG{constructor(t){super(),tV(this,t,iT,iO,V,{node:12,startPos:0,depth:1},iC)}},iN=["#EA7C7F","#67B0C6","#94BB7F","#CA9EDB","#DCDC5D","#B9CC7C","#DD97D8","#FFB761","#4D8FD1","#F36E98","#E45F44","#A6A4AE","#FCC047","#FFC129","#D3929C","#4CBCD4","#8D7BC0"];function iD(t){ti(t,"svelte-is7zuw","ul.svelte-is7zuw{list-style:none;margin:0;padding:0}")}function iq(t){let e,n,r;return n=new iA({props:{class:t[1].class,node:t[0],startPos:0,depth:0}}),{c(){e=ta("ul"),tU(n.$$.fragment),tp(e,"class","svelte-is7zuw")},m(t,i){to(t,e,i),tJ(n,e,null),r=!0},p(t,e){let[r]=e,i={};2&r&&(i.class=t[1].class),1&r&&(i.node=t[0]),n.$set(i)},i(t){r||(tI(n.$$.fragment,t),r=!0)},o(t){tP(n.$$.fragment,t),r=!1},d(t){t&&ts(e),tH(n)}}}function iM(t,e,n){let{doc:r,schema:i,selected:o={type:"",start:0,end:0},handleNodeSelect:s}=e;return tK("doc-view",{selected:o,colors:Object.keys(i.nodes).reduce((t,e,n)=>{let r=n>=iN.length?function(t,e){let n=t/e;return Math.round(e*(n-Math.floor(n)))}(n,iN.length):n;return t[e]=iN[r],t},{}),handleNodeClick:s}),t.$$set=t=>{n(1,e=F(F({},e),te(t))),"doc"in t&&n(0,r=t.doc),"schema"in t&&n(2,i=t.schema),"selected"in t&&n(3,o=t.selected),"handleNodeSelect"in t&&n(4,s=t.handleNodeSelect)},e=te(e),[r,e,i,o,s]}var iz=class extends tG{constructor(t){super(),tV(this,t,iM,iq,V,{doc:0,schema:2,selected:3,handleNodeSelect:4},iD)}};function iR(t){ti(t,"svelte-15i66m0",".top-row.svelte-15i66m0{align-items:center;display:flex;justify-content:space-between}.right-panel[slot=right].svelte-15i66m0{border-left:1px solid rgba(255, 162, 177, 0.2);flex-grow:0;min-width:220px;width:220px}.split-view .m-top{margin-top:0.75em}")}function iI(t){let e;return{c(){e=tu("log")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function iP(t){let e,n,r,i,o,s,l,a;return o=new n9({props:{class:"hidden",$$slots:{default:[iI]},$$scope:{ctx:t}}}),l=new iz({props:{class:"m-top",doc:t[0],schema:t[2],handleNodeSelect:t[3]}}),{c(){e=ta("div"),n=ta("div"),(r=ta("h2")).textContent="Current doc",i=tf(),tU(o.$$.fragment),s=tf(),tU(l.$$.fragment),tp(n,"class","top-row svelte-15i66m0"),tp(e,"slot","left"),tp(e,"class","left-panel")},m(t,c){to(t,e,c),tr(e,n),tr(n,r),tr(n,i),tJ(o,n,null),tr(e,s),tJ(l,e,null),a=!0},p(t,e){let n={};256&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);let r={};1&e&&(r.doc=t[0]),l.$set(r)},i(t){a||(tI(o.$$.fragment,t),tI(l.$$.fragment,t),a=!0)},o(t){tP(o.$$.fragment,t),tP(l.$$.fragment,t),a=!1},d(t){t&&ts(e),tH(o),tH(l)}}}function iB(t){let e;return{c(){e=tu("log")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function iF(t){let e,n,r,i,o,s,l,a;return(o=new n9({props:{$$slots:{default:[iB]},$$scope:{ctx:t}}})).$on("click",t[4]),l=new nW({props:{class:"m-top",data:t[1],recursionOpts:{shouldExpandNode:iU}}}),{c(){e=ta("div"),n=ta("div"),(r=ta("h2")).textContent="Node info",i=tf(),tU(o.$$.fragment),s=tf(),tU(l.$$.fragment),tp(n,"class","top-row svelte-15i66m0"),tp(e,"slot","right"),tp(e,"class","right-panel svelte-15i66m0")},m(t,c){to(t,e,c),tr(e,n),tr(n,r),tr(n,i),tJ(o,n,null),tr(e,s),tJ(l,e,null),a=!0},p(t,e){let n={};256&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);let r={};2&e&&(r.data=t[1]),l.$set(r)},i(t){a||(tI(o.$$.fragment,t),tI(l.$$.fragment,t),a=!0)},o(t){tP(o.$$.fragment,t),tP(l.$$.fragment,t),a=!1},d(t){t&&ts(e),tH(o),tH(l)}}}function iL(t){let e,n;return e=new n3({props:{$$slots:{right:[iF],left:[iP]},$$scope:{ctx:t}}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let[r]=n,i={};259&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}var iU=t=>"array"!==t.type||t.value.length<=50;function iJ(t,e,n){let r,i,{view:o}=tW("editor-view"),s=o.state.doc,l={node:o.state.doc,pos:0},a=o.state.schema;return nw.subscribe(t=>{t&&(t.trs.forEach(t=>{n(5,l.pos=t.mapping.map(l.pos),l)}),clearTimeout(i),i=setTimeout(()=>{n(0,s=t.state.doc);let e=l.pos;try{let t=s.nodeAt(e);n(5,l={node:t||s,pos:t?e:0})}catch(t){}},100))}),t.$$.update=()=>{32&t.$$.dirty&&n(1,r=l.node.toJSON())},[s,r,a,function(t,e){var r;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n(5,l={node:t,pos:e}),!i)return;let s=o.nodeDOM(e);for(;s&&!(s instanceof HTMLElement);)s=s.parentElement;if(!s||"none"===getComputedStyle(s).display)return;let a=function t(e){return e&&e!==document.body?e.scrollHeight!==e.clientHeight?e:t(e.parentElement):void 0}(o.dom);if(a){let t=a.scrollTop,e=a.offsetTop-window.scrollY,n=a.getBoundingClientRect().top-e,r=s.getBoundingClientRect().top-e,i=a.clientHeight/2;a.scroll(0,t+n+r-i)}let c=o.coordsAtPos(e).top,u=(null==(r=document.querySelector(".floating-dock"))?void 0:r.clientHeight)||0;window.scroll(0,c-u+s.clientHeight+window.scrollY)},function(){console.log(l),window._node=l,console.info("%c [prosemirror-dev-toolkit]: Property added to window._node","color: #b8e248")},l]}var iH=class extends tG{constructor(t){super(),tV(this,t,iJ,iL,V,{},iR)}};function iV(t){ti(t,"svelte-969ox4","ul.svelte-969ox4.svelte-969ox4{color:#fff;list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-969ox4+li.svelte-969ox4{border-top:1px solid rgb(96, 76, 104)}li.svelte-969ox4.svelte-969ox4{align-items:center;display:flex;font-family:monospace;padding:6px 18px}input.svelte-969ox4.svelte-969ox4{background:transparent;border:0;color:#fff;height:100%;margin:0;padding:2px;width:100%}.unstyled-btn.svelte-969ox4.svelte-969ox4{background:transparent;border:0;color:#fff;cursor:pointer;display:block;font-family:monospace;margin:0;padding:0;text-align:start;width:100%}.snapshot-btn.svelte-969ox4.svelte-969ox4{background:transparent;border:0;border-radius:3px;color:#d3d3d9;cursor:pointer;display:flex;font-size:11px;padding:6px 18px;text-transform:uppercase}.snapshot-btn.svelte-969ox4.svelte-969ox4:hover{background:rgba(255, 162, 177, 0.4);color:#fff}.ml-2.svelte-969ox4.svelte-969ox4{margin-left:1rem}")}function iG(t,e,n){let r=t.slice();return r[23]=e[n],r}function iK(t){let e,n,r,i,o=t[23].name+"";function s(){return t[16](t[23])}return{c(){e=ta("button"),n=tu(o),tp(e,"class","unstyled-btn svelte-969ox4"),tp(e,"aria-label","Edit snapshot name button")},m(t,o){to(t,e,o),tr(e,n),r||(i=td(e,"dblclick",s),r=!0)},p(e,r){t=e,1&r&&o!==(o=t[23].name+"")&&tv(n,o)},d(t){t&&ts(e),r=!1,i()}}}function iW(t){let e,n,r,i;return{c(){(e=ta("input")).value=n=t[2].name,tp(e,"class","svelte-969ox4")},m(n,o){to(n,e,o),r||(i=[td(e,"input",t[5]),td(e,"keypress",t[6])],r=!0)},p(t,r){4&r&&n!==(n=t[2].name)&&e.value!==n&&(e.value=n)},d(t){t&&ts(e),r=!1,J(i)}}}function iY(t){let e;return{c(){e=tu("Show")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function iQ(t){let e;return{c(){e=tu("Hide")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function iZ(t){let e;return{c(){e=tu("Delete")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function iX(t){let e;return{c(){e=tu("Confirm Delete")},m(t,n){to(t,e,n)},d(t){t&&ts(e)}}}function i1(t){let e,n,r,i,o,s,l,a,c,u,f,h;function d(t,e){return t[2]&&t[2].timestamp===t[23].timestamp?iW:iK}let p=d(t),g=p(t);function v(t,e){var n;return(null==(n=t[1])?void 0:n.timestamp)===t[23].timestamp?iQ:iY}let m=v(t),y=m(t);function x(){return t[17](t[23])}function b(){return t[18](t[23])}function w(){return t[19](t[23])}function $(t,e){var n;return(null==(n=t[3])?void 0:n.timestamp)===t[23].timestamp?iX:iZ}let _=$(t),k=_(t);function j(){return t[20](t[23])}return{c(){e=ta("li"),g.c(),n=tf(),r=ta("button"),y.c(),i=tf(),(o=ta("button")).textContent="Restore",s=tf(),(l=ta("button")).textContent="Export",a=tf(),c=ta("button"),k.c(),u=tf(),tp(r,"class","snapshot-btn ml-2 svelte-969ox4"),tp(o,"class","snapshot-btn svelte-969ox4"),tp(l,"class","snapshot-btn svelte-969ox4"),tp(c,"class","snapshot-btn svelte-969ox4"),tp(e,"class","svelte-969ox4")},m(t,d){to(t,e,d),g.m(e,null),tr(e,n),tr(e,r),y.m(r,null),tr(e,i),tr(e,o),tr(e,s),tr(e,l),tr(e,a),tr(e,c),k.m(c,null),tr(e,u),f||(h=[td(r,"click",x),td(o,"click",b),td(l,"click",w),td(c,"click",j)],f=!0)},p(i,o){p===(p=d(t=i))&&g?g.p(t,o):(g.d(1),(g=p(t))&&(g.c(),g.m(e,n))),m!==(m=v(t))&&(y.d(1),(y=m(t))&&(y.c(),y.m(r,null))),_!==(_=$(t))&&(k.d(1),(k=_(t))&&(k.c(),k.m(c,null)))},d(t){t&&ts(e),g.d(),y.d(),k.d(),f=!1,J(h)}}}function i0(t){let e,n=tB(t[0]),r=[];for(let e=0;e<n.length;e+=1)r[e]=i1(iG(t,n,e));return{c(){e=ta("ul");for(let t=0;t<r.length;t+=1)r[t].c();tp(e,"class","svelte-969ox4")},m(t,n){to(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,i){let[o]=i;if(2047&o){let i;for(i=0,n=tB(t[0]);i<n.length;i+=1){let s=iG(t,n,i);r[i]?r[i].p(s,o):(r[i]=i1(s),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:B,o:B,d(t){t&&ts(e),tl(r,t)}}}function i2(t,e,n){let r,i,o,{snapshots:s=[],selectedSnapshot:l,onUpdate:a,onView:c,onRestore:u,onExport:f,onDelete:h}=e;function d(t){n(2,r=t),n(3,i=void 0)}function p(t){(null==l?void 0:l.timestamp)===t.timestamp?c():c(t),n(3,i=void 0)}function g(t){u(t),n(3,i=void 0)}function v(t){f(t),n(3,i=void 0)}function m(t){i&&i.timestamp===t.timestamp?(h(t),n(3,i=void 0)):n(3,i=t)}return t.$$set=t=>{"snapshots"in t&&n(0,s=t.snapshots),"selectedSnapshot"in t&&n(1,l=t.selectedSnapshot),"onUpdate"in t&&n(11,a=t.onUpdate),"onView"in t&&n(12,c=t.onView),"onRestore"in t&&n(13,u=t.onRestore),"onExport"in t&&n(14,f=t.onExport),"onDelete"in t&&n(15,h=t.onDelete)},[s,l,r,i,d,function(t){r&&(n(2,r.name=t.currentTarget.value,r),clearTimeout(o),o=setTimeout(()=>{a(r)},150))},function(t){"Enter"===t.key&&r&&(a(r),clearTimeout(o),n(2,r=void 0),n(3,i=void 0))},p,g,v,m,a,c,u,f,h,t=>d(t),t=>p(t),t=>g(t),t=>v(t),t=>m(t)]}var i3=class extends tG{constructor(t){super(),tV(this,t,i2,i0,V,{snapshots:0,selectedSnapshot:1,onUpdate:11,onView:12,onRestore:13,onExport:14,onDelete:15},iV)}};function i5(t){ti(t,"svelte-3jdj5c",".right-panel[slot=right].svelte-3jdj5c{padding:0}.no-snapshots.svelte-3jdj5c{align-items:center;color:rgb(255, 162, 177);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}")}function i6(t){let e,n;return e=new i3({props:{snapshots:t[0],selectedSnapshot:t[1],onUpdate:et,onView:t[4],onRestore:t[3],onExport:en,onDelete:er}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let r={};1&n&&(r.snapshots=t[0]),2&n&&(r.selectedSnapshot=t[1]),e.$set(r)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function i4(t){let e;return{c(){(e=ta("div")).textContent='Save snapshots by clicking "Save" button.',tp(e,"class","no-snapshots svelte-3jdj5c")},m(t,n){to(t,e,n)},p:B,i:B,o:B,d(t){t&&ts(e)}}}function i9(t){let e,n,r,i,o=[i4,i6],s=[];function l(t,e){return+(0!==t[0].length)}return r=s[n=l(t)]=o[n](t),{c(){e=ta("div"),r.c(),tp(e,"slot","right"),tp(e,"class","right-panel svelte-3jdj5c")},m(t,r){to(t,e,r),s[n].m(e,null),i=!0},p(t,i){let a=n;(n=l(t))===a?s[n].p(t,i):(tz(),tP(s[a],1,1,()=>{s[a]=null}),tR(),(r=s[n])?r.p(t,i):(r=s[n]=o[n](t)).c(),tI(r,1),r.m(e,null))},i(t){i||(tI(r),i=!0)},o(t){tP(r),i=!1},d(t){t&&ts(e),s[n].d()}}}function i7(t){let e,n;return e=new n3({props:{$$slots:{right:[i9]},$$scope:{ctx:t}}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let[r]=n,i={};35&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function i8(t,e,n){let r,i;W(t,t3,t=>n(0,r=t)),W(t,t5,t=>n(1,i=t));let{view:o}=tW("editor-view");return[r,i,o,function(t){ee(o,t),n_()},t=>(function(t,e){if(e)K(t6)||t6.set(t.state),t7(t,e.doc);else{let e=K(t6);e?t.updateState(e):console.error("No previous state to restore!"),t6.set(void 0)}t5.set(e)})(o,t)]}var ot=class extends tG{constructor(t){super(),tV(this,t,i8,i7,V,{},i5)}};function oe(t){ti(t,"svelte-1quf800",".floating-dock-wrapper.svelte-1quf800{position:fixed;width:0px;height:0px;top:0px;left:0px;z-index:99999999}.floating-dock.svelte-1quf800{background-color:#363755;position:fixed;z-index:1;box-shadow:rgba(34, 34, 34, 0.3) 0px 0px 4px 0px;left:0px;top:50%;width:100%;height:50%}.resizing-div.svelte-1quf800{position:absolute;z-index:2;opacity:0;top:-5px;height:10px;left:0px;width:100%;cursor:row-resize}.floating-dock-body.svelte-1quf800{height:100%}button.svelte-1quf800{background:rgba(255, 162, 177, 0.6);border:0;border-radius:3px;color:#fff;cursor:pointer;font-size:12px;height:24px;line-height:25px;padding:0 6px;position:absolute}button.svelte-1quf800:hover{background:rgba(255, 162, 177, 0.8)}.copy-btn.svelte-1quf800{right:173px;top:-28px}.save-btn.svelte-1quf800{right:129px;top:-28px}.import-btn.svelte-1quf800{right:79px;top:-28px}.paste-btn.svelte-1quf800{right:32px;top:-28px}.close-btn.svelte-1quf800{font-size:var(--font-medium);right:4px;top:-28px;width:24px}")}function on(t){let e;return{c(){(e=ta("p")).textContent="nuting here"},m(t,n){to(t,e,n)},i:B,o:B,d(t){t&&ts(e)}}}function or(t){let e,n;return e=new ot({}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function oi(t){let e,n;return e=new iH({}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function oo(t){let e,n;return e=new ij({}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function os(t){let e,n;return e=new im({}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function ol(t){let e,n;return e=new r7({}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function oa(t){let e,n;return e=new ra({}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function oc(t){let e,n,r,i,o,s,l,a,c,u,f,h,d,p,g,v,m,y,x,b,w,$,_,k,j,C,S,E;(n=new ea({props:{isOpen:t[5]}})).$on("submit",t[12]),n.$on("close",t[11]),w=new eh({props:{onClickTab:t[14],active:t[1]}});let O=[oa,ol,os,oo,oi,or,on],T=[];function A(t,e){return"state"===t[1]?0:"history"===t[1]?1:"plugins"===t[1]?2:"schema"===t[1]?3:"structure"===t[1]?4:"snapshots"===t[1]?5:6}return k=T[_=A(t)]=O[_](t),{c(){e=ta("div"),tU(n.$$.fragment),r=tf(),i=ta("div"),o=ta("div"),s=tf(),l=ta("div"),a=ta("div"),(c=ta("button")).textContent="Copy",u=tf(),(f=ta("button")).textContent="Save",h=tf(),(d=ta("button")).textContent="Import",p=tf(),(g=ta("button")).textContent="Paste",v=tf(),(m=ta("button")).textContent="X",y=tf(),x=ta("input"),b=tf(),tU(w.$$.fragment),$=tf(),k.c(),tp(o,"class","resizing-div svelte-1quf800"),tp(o,"role","button"),tp(o,"tabindex","-1"),tp(c,"class","copy-btn svelte-1quf800"),tp(f,"class","save-btn svelte-1quf800"),tp(d,"class","import-btn svelte-1quf800"),tp(g,"class","paste-btn svelte-1quf800"),tp(m,"class","close-btn svelte-1quf800"),tp(m,"aria-label","Close dev-toolkit"),x.style.setProperty("display","none",""),tp(x,"type","file"),tp(x,"accept",".json"),x.multiple=!0,tp(l,"class","floating-dock-body svelte-1quf800"),tp(i,"class","floating-dock svelte-1quf800"),tp(i,"style",j="top: ".concat(t[2],"%; height: ").concat(t[3],"%;")),tp(e,"class","floating-dock-wrapper svelte-1quf800")},m(k,j){to(k,e,j),tJ(n,e,null),tr(e,r),tr(e,i),tr(i,o),tr(i,s),tr(i,l),tr(l,a),tr(a,c),tr(a,u),tr(a,f),tr(a,h),tr(a,d),tr(a,p),tr(a,g),tr(a,v),tr(a,m),tr(l,y),tr(l,x),t[15](x),tr(l,b),tJ(w,l,null),tr(l,$),T[_].m(l,null),C=!0,S||(E=[td(o,"mousedown",t[6]),td(c,"click",t[7]),td(f,"click",t[8]),td(d,"click",t[9]),td(g,"click",t[10]),td(m,"click",function(){H(t[0])&&t[0].apply(this,arguments)}),td(x,"change",t[13])],S=!0)},p(e,r){let[o]=r;t=e;let s={};32&o&&(s.isOpen=t[5]),n.$set(s);let a={};2&o&&(a.active=t[1]),w.$set(a);let c=_;(_=A(t))!==c&&(tz(),tP(T[c],1,1,()=>{T[c]=null}),tR(),(k=T[_])||(k=T[_]=O[_](t)).c(),tI(k,1),k.m(l,null)),(!C||12&o&&j!==(j="top: ".concat(t[2],"%; height: ").concat(t[3],"%;")))&&tp(i,"style",j)},i(t){C||(tI(n.$$.fragment,t),tI(w.$$.fragment,t),tI(k),C=!0)},o(t){tP(n.$$.fragment,t),tP(w.$$.fragment,t),tP(k),C=!1},d(r){r&&ts(e),tH(n),t[15](null),tH(w),T[_].d(),S=!1,J(E)}}}function ou(t,e,n){let{onClose:r}=e,{view:i}=tW("editor-view"),o="state",s=50,l=50,a,c=!1;function u(t){t.preventDefault(),n(2,s=100*t.clientY/window.innerHeight),n(3,l=100*(1-t.clientY/window.innerHeight))}function f(t){t.preventDefault(),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",f)}return tx().$$.on_destroy.push(()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",f)}),t.$$set=t=>{"onClose"in t&&n(0,r=t.onClose)},[r,o,s,l,a,c,function(){document.addEventListener("mousemove",u),document.addEventListener("mouseup",f)},function(){navigator.clipboard.writeText(JSON.stringify(i.state.doc.toJSON()))},function(){let t=prompt("Enter snapshot name",new Date().toLocaleString("sv"));t&&t8(t,i.state.doc.toJSON())},function(){a.click()},function(){n(5,c=!c)},function(){n(5,c=!1)},function(t){ee(i,t8(new Date().toLocaleString("sv"),t.detail.doc)),n(5,c=!1)},function(t){Array.from(t.currentTarget.files||[]).forEach(t=>{let e=new FileReader;e.readAsText(t),e.onload=e=>{var n,r;let o="string"==typeof(null==(n=e.target)?void 0:n.result)?null==(r=e.target)?void 0:r.result:"";try{let e=JSON.parse(o);if(!e||"object"!=typeof e)throw Error("Imported snapshot was not a JSON object"+e);var s=t.name.slice(0,t.name.lastIndexOf(".")),l=e,a=i.state.schema;let n=a.nodeFromJSON(l),r={name:s,timestamp:Date.now(),doc:n.toJSON()};t3.update(t=>[r,...t])}catch(t){console.error("Failed to import snapshot: "+t)}}})},function(t){n(1,o=t)},function(t){tC[t?"unshift":"push"](()=>{n(4,a=t)})}]}var of=class extends tG{constructor(t){super(),tV(this,t,ou,oc,V,{onClose:0},oe)}};function oh(t){ti(t,"svelte-pr6kw9",'.dev-tools.svelte-pr6kw9{font-family:var(--font-sans);font-size:var(--font-medium);font-weight:400;--font-sans:Helvetica Neue, Calibri Light, Roboto, sans-serif;--font-small:11px;--font-medium:13px;--font-large:16px;--height-tabs-menu:48px;--tree-view-font-family:"Helvetica Neue", "Calibri Light", Roboto, sans-serif;--tree-view-font-size:13px;--tree-view-left-indent:0.875em;--tree-view-line-height:1.1;--tree-view-key-margin-right:0.5em;--tree-view-base00:#363755;--tree-view-base01:#604d49;--tree-view-base02:#6d5a55;--tree-view-base03:#d1929b;--tree-view-base04:#b79f8d;--tree-view-base05:#f9f8f2;--tree-view-base06:#f7f4f1;--tree-view-base07:#faf8f5;--tree-view-base08:#fa3e7e;--tree-view-base09:#fd993c;--tree-view-base0A:#f6bf81;--tree-view-base0B:#b8e248;--tree-view-base0C:#b4efe4;--tree-view-base0D:#85d9ef;--tree-view-base0E:#be87ff;--tree-view-base0F:#d6724c}.dev-tools.svelte-pr6kw9 .svelte-tree-view *{box-sizing:border-box}.dev-tools.svelte-pr6kw9 .hidden{opacity:0;visibility:hidden}')}function od(t){let e,n;return(e=new tX({props:{buttonPosition:t[1]}})).$on("click",t[2]),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p(t,n){let r={};2&n&&(r.buttonPosition=t[1]),e.$set(r)},i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function op(t){let e,n;return e=new of({props:{onClose:t[3]}}),{c(){tU(e.$$.fragment)},m(t,r){tJ(e,t,r),n=!0},p:B,i(t){n||(tI(e.$$.fragment,t),n=!0)},o(t){tP(e.$$.fragment,t),n=!1},d(t){tH(e,t)}}}function og(t){let e,n,r,i,o=[op,od],s=[];return r=s[n=+!t[0]]=o[n](t),{c(){e=ta("section"),r.c(),tp(e,"class","dev-tools svelte-pr6kw9")},m(t,r){to(t,e,r),s[n].m(e,null),i=!0},p(t,i){let[l]=i,a=n;(n=+!t[0])===a?s[n].p(t,l):(tz(),tP(s[a],1,1,()=>{s[a]=null}),tR(),(r=s[n])?r.p(t,l):(r=s[n]=o[n](t)).c(),tI(r,1),r.m(e,null))},i(t){i||(tI(r),i=!0)},o(t){tP(r),i=!1},d(t){t&&ts(e),s[n].d()}}}function ov(t,e,n){let{view:r,devToolsExpanded:i=!1,buttonPosition:o="bottom-right"}=e;return tK("editor-view",{view:r,execCmd(t){t(r.state,r.dispatch)},replaceEditorContent(t){let e=r.state.tr;e.replaceWith(0,r.state.doc.nodeSize-2,t.doc.content),r.dispatch(e)}}),tb(()=>{let t=document&&document.querySelector("html");i&&t&&(t.style.paddingBottom="341px")}),t.$$set=t=>{"view"in t&&n(4,r=t.view),"devToolsExpanded"in t&&n(0,i=t.devToolsExpanded),"buttonPosition"in t&&n(1,o=t.buttonPosition)},[i,o,function(){n(0,i=!0);let t=document&&document.querySelector("html");t&&(t.style.paddingBottom="341px")},function(){n(0,i=!1);let t=document&&document.querySelector("html");t&&(t.style.paddingBottom="")},r]}var om=class extends tG{constructor(t){super(),tV(this,t,ov,og,V,{view:4,devToolsExpanded:0,buttonPosition:1},oh)}},oy=!1,ox=void 0,ob="__prosemirror-dev-toolkit__",ow=class extends HTMLElement{constructor(){super();let t=this.attachShadow({mode:"open"});this.addEventListener("init-dev-toolkit",e=>{let{detail:{view:n,opts:r}}=e;this.component=new om({target:t,props:Object.assign({view:n},r)})})}disconnectedCallback(){var t;null==(t=this.component)||t.$destroy()}};function o$(t,e={}){var n;let r,i,o=((i=document.querySelector(`.${ob}`))||((i=document.createElement("div")).className=ob,document.body.appendChild(i)),i);if(o_(),t.isDestroyed)return;let{disableWebComponent:s}=e,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}(e,["disableWebComponent"]);if(s)r=new om({target:o,props:Object.assign({view:t},a)});else{let e=document.createElement("prosemirror-dev-toolkit");e.dispatchEvent(new CustomEvent("init-dev-toolkit",{detail:{view:t,opts:a}})),o.appendChild(e)}"undefined"!=typeof window&&(window.editorView=t,window.pmCmd=e=>e(t.state,t.dispatch,t));let c=t.destroy.bind(t);t.destroy=()=>{o_(),c()},oy=!0;let u=null==(n=(t.props||t._props).dispatchTransaction)?void 0:n.bind(t);t.setProps({dispatchTransaction:e=>{let n=t.state,r=t.state.applyTransaction(e);if(u){let n=t.state.applyTransaction.bind(t.state);t.state.applyTransaction=function(i){return i!==e?(t.state.applyTransaction=n,Reflect.apply(n,t.state,arguments)):r},u(e)}else t.updateState(r.state);oy&&r.transactions.length>0&&function(t,e,n){let r=K(nx),i=K(nb)[0],o=function(t,e,n,r){var i,o,s,l;let a=q.fromSchema(e.schema),c=e.selection,u=a.serializeFragment(c.content().content),f=[];if(u){let t=u.firstChild;for(;t;)f.push(t.outerHTML.replaceAll(nm,'src="..."')),t=t.nextSibling}let h=r?r.state:n,d=(i=h.doc.toJSON(),o=e.doc.toJSON(),nd.diff(i,o)),p=(s=ng(h.selection),l=ng(e.selection),nd.diff(s,l));return{id:Math.random().toString()+Math.random().toString(),state:e,trs:t.map(t=>Object.keys(t).concat(np).reduce((e,n)=>(e[n]=t[n],e),{})),timestamp:t[0].time,timeStr:(t=>{let e=new Date(t);return[nv(e.getHours()),nv(e.getMinutes()),nv(e.getSeconds()),("000"+e.getMilliseconds()).slice(-3)].join(":")})(t[0].time),contentDiff:d,selectionDiff:p,selectionHtml:(0,P.prettyPrint)(f.join("\n"),{max_char:60,indent_size:2}).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(ny,"<span style='color: cadetblue;'>$&</span>")}}(t,e,n,r.get((null==i?void 0:i.topEntryId)||""));nx.update(t=>new Map(t.set(o.id,o))),nw.set(o);let s=!o.contentDiff;if((null==i?void 0:i.isGroup)&&s){let t={id:i.id,isGroup:s,entryIds:[o.id,...i.entryIds],topEntryId:o.id,expanded:i.expanded};nb.update(e=>[t,...e.slice(1)])}else{let t=K(n$)+1,e={id:t,isGroup:s,entryIds:[o.id],topEntryId:o.id,expanded:!1};nb.update(t=>[e,...t]),n$.set(t)}}(r.transactions,t.state,n)}}),ox=()=>t.setProps({dispatchTransaction:u}),l=()=>{n_(),oy=!1,ox&&ox(),ox=void 0,null==r||r.$destroy();let t=o.firstChild;t&&o.removeChild(t)}}function o_(){l&&l(),l=void 0}customElements.get("prosemirror-dev-toolkit")||customElements.define("prosemirror-dev-toolkit",ow),"undefined"!=typeof window&&(window.applyDevTools=o$)}};
//# sourceMappingURL=930.js.map